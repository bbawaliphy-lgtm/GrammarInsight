<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RULES OF GRAMMAR - SSC INSIGHT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Noto+Sans+Bengali:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'sans-serif'],
                        serif: ['Cinzel', 'serif'],
                        bengali: ['Noto Sans Bengali', 'sans-serif'],
                    },
                    colors: {
                        royal: {
                            900: '#0f172a',
                            800: '#1e293b',
                            gold: '#fbbf24',
                            accent: '#f59e0b',
                        },
                        glass: {
                            light: 'rgba(255, 255, 255, 0.1)',
                            dark: 'rgba(15, 23, 42, 0.6)',
                            border: 'rgba(255, 255, 255, 0.1)',
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        glow: {
                            'from': { boxShadow: '0 0 10px #fbbf24' },
                            'to': { boxShadow: '0 0 20px #f59e0b' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .bengali-text { font-family: 'Noto Sans Bengali', sans-serif; }
        .aristocratic-title { font-family: 'Cinzel', serif; letter-spacing: 0.05em; }
        .glass-card {
            background: rgba(17, 25, 40, 0.75);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.125);
        }
        .bg-mesh {
            background-color: #0f172a;
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
        }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.4); }
    </style>
</head>
<body class="bg-mesh text-gray-100 h-screen flex flex-col overflow-hidden selection:bg-royal-gold selection:text-black">

    <!-- Navbar -->
    <nav class="absolute top-0 w-full z-40 px-6 py-5 flex justify-between items-center bg-gradient-to-b from-black/50 to-transparent">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full border border-royal-gold/50 bg-white/10 flex items-center justify-center overflow-hidden shadow-[0_0_15px_rgba(251,191,36,0.3)]">
                <img src="logo.png" alt="SSC Insight" class="w-full h-full object-cover">
            </div>
            <div>
                <h1 class="font-bold text-white tracking-wide text-sm aristocratic-title">SSC INSIGHT</h1>
                <p class="text-[10px] text-gray-400 tracking-widest uppercase">Bengali Edition</p>
            </div>
        </div>
        <div class="px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] font-bold tracking-wider text-royal-gold">
            PREMIUM
        </div>
    </nav>

    <!-- VIEW: HOME SCREEN -->
    <section id="homeView" class="flex-grow flex flex-col pt-24 pb-8 px-4 sm:px-6 max-w-lg mx-auto w-full h-full overflow-y-auto">
        
        <!-- Heroic Mentor Section -->
        <div class="relative w-full mb-8 group perspective-1000">
            <div class="absolute inset-0 bg-gradient-to-r from-royal-gold to-orange-500 rounded-3xl blur opacity-20 group-hover:opacity-40 transition-opacity duration-700"></div>
            <div class="relative glass-card rounded-3xl p-6 overflow-hidden transform transition-transform duration-500 hover:scale-[1.01]">
                <div class="absolute top-0 right-0 p-4 opacity-20 text-9xl text-white pointer-events-none">
                    <i class="fa-solid fa-quote-right"></i>
                </div>
                <div class="flex flex-col items-center text-center relative z-10">
                    <div class="relative w-28 h-28 mb-4">
                        <div class="absolute inset-0 rounded-full border-2 border-royal-gold border-dashed animate-[spin_10s_linear_infinite]"></div>
                        <div class="absolute inset-1 rounded-full bg-gradient-to-b from-gray-200 to-gray-400 overflow-hidden border-4 border-royal-800 shadow-2xl">
                            <div class="w-full h-full bg-cover bg-center" style="background-image: url('Dyuti.png');"></div> 
                        </div>
                        <div class="absolute -bottom-2 -right-2 w-8 h-8 bg-royal-gold rounded-full flex items-center justify-center text-royal-900 border-2 border-royal-800 shadow-lg z-20">
                            <i class="fa-solid fa-star text-xs"></i>
                        </div>
                    </div>
                    <h2 class="text-2xl font-bold text-white aristocratic-title mb-1">Dyutimala Datta</h2>
                    <p class="text-royal-gold text-xs font-bold tracking-widest uppercase mb-4">The Architect of Success</p>
                    <div class="space-y-2 mb-6">
                        <p class="text-gray-300 text-sm italic bengali-text leading-relaxed">
                            "ইংরেজি গ্রামারের ভয়কে জয় করো, স্বপ্নের পথে নির্ভয়ে এগিয়ে চলো।"
                        </p>
                        <p class="text-gray-400 text-xs">Scientific Officer (CWC) • CGL 2018 & 2019 Cracker</p>
                    </div>
                    <button onclick="document.getElementById('mentorModal').classList.remove('hidden')" class="px-6 py-2 rounded-full border border-white/20 bg-white/5 hover:bg-white/10 text-xs font-bold text-white transition-all flex items-center gap-2 group-hover:border-royal-gold/50">
                        <span>View Profile</span> <i class="fa-solid fa-arrow-right text-royal-gold"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Bengali Purpose Text -->
        <div class="text-center mb-8">
            <h3 class="text-xl font-bold text-white mb-2 bengali-text">তোমার প্রস্তুতির বিশ্বস্ত সঙ্গী</h3>
            <p class="text-gray-400 text-xs max-w-xs mx-auto bengali-text">
                এসএসসি সিজিএল (SSC CGL) পরীক্ষার জন্য গ্রামারের প্রতিটি নিয়ম এখন তোমার হাতের মুঠোয়। সহজ বাংলায় বোঝো, শেখো এবং জয় করো।
            </p>
        </div>

        <!-- Action Cards -->
        <div class="grid gap-4">
            <button onclick="startSession('learn')" class="group relative overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-600 to-violet-700 p-6 text-left shadow-lg transition-all hover:shadow-indigo-500/25 active:scale-[0.98]">
                <div class="absolute right-0 top-0 -mt-4 -mr-4 h-24 w-24 rounded-full bg-white/10 blur-xl group-hover:scale-150 transition-transform duration-700"></div>
                <div class="relative z-10 flex justify-between items-center">
                    <div>
                        <div class="flex items-center gap-2 mb-2">
                            <span class="px-2 py-0.5 rounded-md bg-white/20 text-[10px] font-bold text-white border border-white/10">MODULE 1</span>
                            <span class="text-indigo-200 text-xs"><i class="fa-regular fa-clock"></i> Interactive</span>
                        </div>
                        <h3 class="text-2xl font-bold text-white aristocratic-title">Start Learning</h3>
                        <p class="text-indigo-100 text-xs mt-1 opacity-80">Master 90 Golden Rules of Grammar</p>
                    </div>
                    <div class="h-12 w-12 rounded-full bg-white/20 flex items-center justify-center text-white text-xl backdrop-blur-sm border border-white/10 group-hover:rotate-12 transition-transform">
                        <i class="fa-solid fa-book-open-reader"></i>
                    </div>
                </div>
            </button>

            <!-- Quiz Card (NEW) -->
            <button onclick="startQuiz()" class="group relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 to-teal-700 p-6 text-left shadow-lg transition-all hover:shadow-emerald-500/25 active:scale-[0.98]">
                <div class="absolute right-0 top-0 -mt-4 -mr-4 h-24 w-24 rounded-full bg-white/10 blur-xl group-hover:scale-150 transition-transform duration-700"></div>
                <div class="relative z-10 flex justify-between items-center">
                    <div>
                        <div class="flex items-center gap-2 mb-2">
                            <span class="px-2 py-0.5 rounded-md bg-white/20 text-[10px] font-bold text-white border border-white/10">TEST YOURSELF</span>
                        </div>
                        <h3 class="text-2xl font-bold text-white aristocratic-title">Quiz Mode</h3>
                        <p class="text-emerald-100 text-xs mt-1 opacity-80">Challenge with 50 Questions</p>
                    </div>
                    <div class="h-12 w-12 rounded-full bg-white/20 flex items-center justify-center text-white text-xl backdrop-blur-sm border border-white/10 group-hover:rotate-12 transition-transform">
                        <i class="fa-solid fa-clipboard-question"></i>
                    </div>
                </div>
            </button>

            <!-- Practice Card -->
            <button onclick="showPracticeMenu()" class="group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-6 text-left hover:bg-white/10 transition-all active:scale-[0.98]">
                <div class="relative z-10 flex justify-between items-center">
                    <div>
                        <h3 class="text-xl font-bold text-gray-200 aristocratic-title">Revision</h3>
                        <p class="text-gray-400 text-xs mt-1">Review saved & difficult rules</p>
                    </div>
                    <div class="flex -space-x-2">
                        <div class="h-8 w-8 rounded-full border-2 border-royal-900 bg-green-500 flex items-center justify-center text-[10px] text-white">E</div>
                        <div class="h-8 w-8 rounded-full border-2 border-royal-900 bg-yellow-500 flex items-center justify-center text-[10px] text-white">M</div>
                        <div class="h-8 w-8 rounded-full border-2 border-royal-900 bg-red-500 flex items-center justify-center text-[10px] text-white">H</div>
                    </div>
                </div>
            </button>
        </div>

        <div class="mt-8 text-center">
            <p class="text-[10px] text-gray-600 uppercase tracking-widest font-bold">Powered by SSC Insight</p>
        </div>
    </section>

    <!-- VIEW: SESSION -->
    <section id="sessionView" class="hidden fixed inset-0 z-50 bg-royal-900 flex flex-col bg-mesh">
        <div class="px-6 py-4 flex items-center justify-between z-20 border-b border-white/5 bg-black/20 backdrop-blur-md">
            <button onclick="endSession()" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 text-gray-400 transition-colors">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <div class="flex flex-col items-center">
                <div class="text-royal-gold text-lg font-mono font-bold tracking-widest flex items-center gap-2 drop-shadow-md">
                    <span id="timerDisplay">00:00</span>
                </div>
            </div>
            <div class="flex items-center gap-3">
                <div class="text-[10px] font-bold text-gray-500 uppercase tracking-widest" id="progressDisplay">1/90</div>
                <button onclick="showJumpMenu()" class="w-10 h-10 flex items-center justify-center rounded-full bg-royal-gold/10 text-royal-gold border border-royal-gold/20 hover:bg-royal-gold/20 transition-all shadow-[0_0_10px_rgba(251,191,36,0.1)]">
                    <i class="fa-solid fa-bars-staggered text-sm"></i>
                </button>
            </div>
        </div>

        <div class="flex-grow overflow-y-auto p-4 sm:p-6 pb-40" id="ruleContentArea"></div>

        <div class="absolute bottom-6 left-4 right-4 z-30">
            <div class="glass-card rounded-2xl p-4 shadow-2xl shadow-black/50">
                <div class="flex justify-center gap-2 mb-4">
                    <button onclick="setDifficulty('easy')" id="btn-easy" class="flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border border-white/10 transition-all flex items-center justify-center gap-2 text-gray-400 hover:text-white hover:bg-white/5">
                        <i class="fa-regular fa-face-smile"></i> Easy
                    </button>
                    <button onclick="setDifficulty('moderate')" id="btn-moderate" class="flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border border-white/10 transition-all flex items-center justify-center gap-2 text-gray-400 hover:text-white hover:bg-white/5">
                        <i class="fa-regular fa-face-meh"></i> Medium
                    </button>
                    <button onclick="setDifficulty('difficult')" id="btn-difficult" class="flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border border-white/10 transition-all flex items-center justify-center gap-2 text-gray-400 hover:text-white hover:bg-white/5">
                        <i class="fa-regular fa-face-frown"></i> Hard
                    </button>
                </div>
                <div class="flex gap-3">
                    <button onclick="prevRule()" id="prevBtn" class="w-12 h-12 flex items-center justify-center rounded-xl bg-white/5 text-white border border-white/10 hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-colors">
                        <i class="fa-solid fa-arrow-left"></i>
                    </button>
                    <button onclick="nextRule()" id="nextBtn" class="flex-1 h-12 rounded-xl bg-gradient-to-r from-royal-gold to-amber-600 text-black font-bold text-sm shadow-lg shadow-amber-500/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 uppercase tracking-wide">
                        Next Rule <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- VIEW: QUIZ MODE -->
    <section id="quizView" class="hidden fixed inset-0 z-50 bg-royal-900 flex flex-col bg-mesh">
        <div class="px-6 py-4 flex items-center justify-between z-20 border-b border-white/5 bg-black/20 backdrop-blur-md">
            <button onclick="quitQuiz()" class="px-4 py-2 rounded-lg border border-red-500/30 bg-red-500/10 text-red-400 text-xs font-bold hover:bg-red-500/20 transition-colors">
                Quit
            </button>
            <div class="flex flex-col items-center">
                <span class="text-[10px] text-gray-400 uppercase tracking-widest">Score</span>
                <span id="quizScoreDisplay" class="text-royal-gold font-mono font-bold text-lg">0</span>
            </div>
            <div class="text-[10px] font-bold text-gray-500 uppercase tracking-widest" id="quizProgressDisplay">1/50</div>
        </div>

        <div class="flex-grow overflow-y-auto p-4 sm:p-6 pb-32">
            <div class="max-w-xl mx-auto">
                <div class="glass-card rounded-2xl p-6 mb-6 border-t-4 border-royal-gold">
                    <h3 class="text-lg sm:text-xl font-bold text-white mb-2 leading-relaxed" id="questionText">Question goes here...</h3>
                </div>
                <div class="grid gap-3" id="optionsContainer"></div>
                <div id="quizFeedback" class="hidden mt-6 p-4 rounded-xl bg-white/5 border border-white/10 animate-fade-in"></div>
            </div>
        </div>

        <div id="quizNextBtnContainer" class="hidden absolute bottom-6 left-4 right-4 z-30 max-w-xl mx-auto">
            <button onclick="nextQuestion()" class="w-full h-14 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-bold text-sm shadow-xl shadow-emerald-500/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 uppercase tracking-wide">
                Next Question <i class="fa-solid fa-arrow-right"></i>
            </button>
        </div>
    </section>

    <!-- VIEW: QUIZ REPORT -->
    <section id="quizReport" class="hidden fixed inset-0 z-50 bg-royal-900 flex flex-col bg-mesh items-center justify-center p-4">
        <div class="glass-card w-full max-w-md rounded-3xl p-8 text-center relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-royal-gold to-orange-500"></div>
            <div class="mb-6">
                <div class="w-20 h-20 mx-auto rounded-full bg-white/5 border-2 border-royal-gold/50 flex items-center justify-center mb-4 shadow-[0_0_20px_rgba(251,191,36,0.2)]">
                    <i class="fa-solid fa-flag-checkered text-3xl text-royal-gold"></i>
                </div>
                <h2 class="text-3xl font-bold text-white aristocratic-title">Quiz Report</h2>
                <p class="text-gray-400 text-xs mt-1">Session Complete</p>
            </div>
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="bg-green-500/10 border border-green-500/30 p-4 rounded-2xl">
                    <p class="text-2xl font-bold text-green-400" id="reportCorrect">0</p>
                    <p class="text-[10px] uppercase text-green-200/70 font-bold tracking-widest">Correct</p>
                </div>
                <div class="bg-red-500/10 border border-red-500/30 p-4 rounded-2xl">
                    <p class="text-2xl font-bold text-red-400" id="reportWrong">0</p>
                    <p class="text-[10px] uppercase text-red-200/70 font-bold tracking-widest">Mistakes</p>
                </div>
            </div>
            <div id="weakAreasContainer" class="text-left mb-8 hidden">
                <h4 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 border-b border-white/10 pb-2">Review These Rules</h4>
                <div class="max-h-40 overflow-y-auto space-y-2 pr-2" id="weakRulesList"></div>
            </div>
            <button onclick="goHome()" class="w-full py-3.5 rounded-xl bg-white text-royal-900 font-bold hover:bg-gray-100 transition-colors">
                Back to Home
            </button>
        </div>
    </section>

    <!-- Rule Modal -->
    <div id="ruleModal" class="hidden fixed inset-0 z-[70] bg-black/95 backdrop-blur-lg flex items-center justify-center p-4 animate-fade-in" onclick="this.classList.add('hidden')">
        <div class="glass-card w-full max-w-lg rounded-2xl overflow-hidden shadow-2xl max-h-[85vh] flex flex-col" onclick="event.stopPropagation()">
            <div class="p-4 border-b border-white/10 flex justify-between items-center bg-white/5">
                <h3 class="text-royal-gold font-bold aristocratic-title">Rule Details</h3>
                <button onclick="document.getElementById('ruleModal').classList.add('hidden')" class="w-8 h-8 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 text-white">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <div class="p-6 overflow-y-auto" id="ruleModalContent"></div>
        </div>
    </div>

    <!-- VIEW: JUMP MENU -->
    <section id="jumpMenu" class="hidden fixed inset-0 z-50 bg-black/90 backdrop-blur-xl flex flex-col animate-fade-in">
        <div class="p-6 pt-12 flex justify-between items-center border-b border-white/10">
            <h2 class="text-2xl font-bold text-white aristocratic-title">Rule Codex</h2>
            <button onclick="closeJumpMenu()" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors">
                <i class="fa-solid fa-times"></i>
            </button>
        </div>
        <div class="flex-grow overflow-y-auto p-4 sm:p-6 pb-20">
            <div class="grid grid-cols-1 gap-2" id="jumpListContainer"></div>
        </div>
    </section>

    <!-- VIEW: PRACTICE MENU -->
    <section id="practiceMenu" class="hidden fixed inset-0 z-50 bg-mesh flex flex-col animate-fade-in">
        <div class="p-6 pt-12">
            <button onclick="goHome()" class="mb-6 flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
                <i class="fa-solid fa-arrow-left"></i> Back to Home
            </button>
            <h2 class="text-3xl font-bold text-white aristocratic-title mb-2">The Arena</h2>
            <p class="text-gray-400 text-sm mb-8">Select your challenge level.</p>
            <div class="grid gap-4" id="filterButtons"></div>
        </div>
    </section>

    <!-- Mentor Modal -->
    <div id="mentorModal" class="hidden fixed inset-0 z-[60] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in" onclick="this.classList.add('hidden')">
        <div class="glass-card w-full max-w-sm rounded-3xl overflow-hidden shadow-2xl transform transition-transform scale-100" onclick="event.stopPropagation()">
            <div class="relative">
                <div class="h-48 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80');">
                    <div class="absolute inset-0 bg-gradient-to-t from-royal-900 to-transparent"></div>
                </div>
                <button onclick="document.getElementById('mentorModal').classList.add('hidden')" class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full bg-black/40 text-white hover:bg-black/60 transition-colors backdrop-blur-sm">
                    <i class="fa-solid fa-times"></i>
                </button>
                <div class="absolute -bottom-10 left-6 flex items-end">
                    <div class="w-20 h-20 rounded-2xl border-4 border-royal-900 bg-gray-200 overflow-hidden shadow-xl">
                         <div class="w-full h-full bg-cover bg-center" style="background-image: url('Dyuti.png');"></div>
                    </div>
                </div>
            </div>
            <div class="pt-12 px-6 pb-8">
                <h2 class="text-2xl font-bold text-white aristocratic-title">Dyutimala Datta</h2>
                <div class="flex items-center gap-2 mt-1">
                    <span class="text-xs font-bold text-royal-gold uppercase tracking-wider">Scientific Officer</span>
                    <span class="w-1 h-1 rounded-full bg-gray-500"></span>
                    <span class="text-xs text-gray-400">CWC</span>
                </div>
                <div class="mt-6 space-y-4">
                    <div class="bg-white/5 rounded-xl p-4 border border-white/5">
                        <h4 class="text-[10px] text-gray-500 uppercase font-bold mb-2 tracking-widest">Achievements</h4>
                        <ul class="space-y-2">
                            <li class="flex items-center gap-3 text-sm text-gray-300"><i class="fa-solid fa-medal text-royal-gold"></i> Cracked SSC CGL 2018 & 2019</li>
                            <li class="flex items-center gap-3 text-sm text-gray-300"><i class="fa-solid fa-atom text-blue-400"></i> M.Sc. Physics (1st Class)</li>
                            <li class="flex items-center gap-3 text-sm text-gray-300"><i class="fa-solid fa-users text-green-400"></i> Mentored 500+ Aspirants</li>
                        </ul>
                    </div>
                    <a href="https://www.youtube.com/@SSCINSIGHTBENGALI?sub_confirmation=1" target="_blank" class="flex items-center justify-center gap-2 w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-bold text-sm transition-all shadow-lg shadow-red-900/50">
                        <i class="fa-brands fa-youtube"></i> Subscribe for Free Classes
                    </a>
                    <div class="grid grid-cols-2 gap-3">
                        <a href="https://chat.whatsapp.com/HX6nMksgdE57GSRkrNmE5l" target="_blank" class="py-3 bg-green-600/20 border border-green-500/30 text-green-400 hover:bg-green-600/30 rounded-xl font-bold text-xs text-center transition-all"><i class="fa-brands fa-whatsapp mb-1 block text-lg"></i> Join Group</a>
                        <a href="https://sscinsightbengali.akamai.net.in/zero-price-courses" target="_blank" class="py-3 bg-blue-600/20 border border-blue-500/30 text-blue-400 hover:bg-blue-600/30 rounded-xl font-bold text-xs text-center transition-all"><i class="fa-solid fa-globe mb-1 block text-lg"></i> Website</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- QUIZ DATA ---
        const quizData = [
            { id: 1, q: "The jury ______ divided in their opinions.", options: ["was", "were", "has", "is"], correct: 1, ruleId: 42, explanation: "Jury যখন বিভক্ত (divided) হয়, তখন এটি Plural হিসেবে গণ্য হয়, তাই 'were' বসবে।" },
            { id: 2, q: "One of the boys ______ missing.", options: ["are", "were", "is", "have"], correct: 2, ruleId: 14, explanation: "'One of the' থাকলে Noun plural হলেও Verb সর্বদা Singular (is) হয়।" },
            { id: 3, q: "Bread and butter ______ my favorite breakfast.", options: ["are", "is", "were", "have"], correct: 1, ruleId: 1, explanation: "Bread and butter একটি একক ধারণা (single idea) প্রকাশ করে, তাই Verb singular (is) হবে।" },
            { id: 4, q: "Neither he nor his friends ______ responsible.", options: ["is", "was", "are", "has"], correct: 2, ruleId: 15, explanation: "Neither...nor এর ক্ষেত্রে Verb তার কাছের Subject (friends) অনুযায়ী Plural (are) হবে।" },
            { id: 5, q: "He is senior ______ me.", options: ["than", "to", "from", "of"], correct: 1, ruleId: 22, explanation: "Senior, Junior, Superior ইত্যাদির পর 'than' না বসে 'to' বসে।" },
            { id: 6, q: "I look forward to ______ you.", options: ["meet", "met", "meeting", "will meet"], correct: 2, ruleId: 20, explanation: "'Look forward to'-এর পর সর্বদা Verb+ing (Gerund) বসে।" },
            { id: 7, q: "He died ______ cancer.", options: ["from", "by", "of", "with"], correct: 2, ruleId: 22, explanation: "রোগে মারা গেলে 'died of' বসে।" },
            { id: 8, q: "The news ______ true.", options: ["are", "were", "is", "have"], correct: 2, ruleId: 83, explanation: "'News' দেখতে Plural মনে হলেও এটি Singular, তাই 'is' বসবে।" },
            { id: 9, q: "He works ______.", options: ["hardly", "hard", "harderly", "hards"], correct: 1, ruleId: 63, explanation: "কঠোর পরিশ্রম বোঝাতে 'hard' ব্যবহৃত হয়। 'Hardly' মানে কদাচিৎ।" },
            { id: 10, q: "Hardly had I reached the station ______ the train left.", options: ["than", "then", "when", "after"], correct: 2, ruleId: 31, explanation: "Hardly had... থাকলে বাক্যের পরের অংশে 'when' বসে।" },
            { id: 11, q: "It is time we ______ home.", options: ["go", "went", "gone", "will go"], correct: 1, ruleId: 6, explanation: "'It is time' এরপর Subject থাকলে Verb-এর Past form (went) হয়।" },
            { id: 12, q: "Unless you work hard, you ______ fail.", options: ["will", "won't", "do", "did"], correct: 0, ruleId: 11, explanation: "Unless শর্ত বোঝায়। 'যদি না কাজ করো, তবে ফেল করবে' (will fail)।" },
            { id: 13, q: "She is ______ best student in the class.", options: ["a", "an", "the", "no article"], correct: 2, ruleId: 5, explanation: "Superlative degree (best)-এর আগে সর্বদা 'the' বসে।" },
            { id: 14, q: "Physics ______ an interesting subject.", options: ["are", "is", "were", "have"], correct: 1, ruleId: 83, explanation: "বিষয়ের নাম (Physics) সর্বদা Singular, তাই 'is' বসবে।" },
            { id: 15, q: "Many a man ______ come.", options: ["have", "has", "are", "were"], correct: 1, ruleId: 3, explanation: "'Many a' এরপর Singular Noun এবং Singular Verb (has) বসে।" },
            { id: 16, q: "He is used to ______ early.", options: ["wake", "waking", "woke", "waken"], correct: 1, ruleId: 48, explanation: "'Is used to' (অভ্যাস) বোঝালে এরপর Verb+ing বসে।" },
            { id: 17, q: "If I ______ a bird, I would fly.", options: ["was", "am", "were", "are"], correct: 2, ruleId: 11, explanation: "অবাস্তব কল্পনা (Imaginary condition) বোঝালে সব Subject-এর সাথেই 'were' বসে।" },
            { id: 18, q: "Lest you ______ fail.", options: ["may", "will", "should", "would"], correct: 2, ruleId: 45, explanation: "'Lest'-এর পরে সর্বদা 'should' বসে।" },
            { id: 19, q: "The police ______ coming.", options: ["is", "are", "has", "was"], correct: 1, ruleId: 42, explanation: "'Police' শব্দটি Plural হিসেবে গণ্য হয়, তাই 'are' বসবে।" },
            { id: 20, q: "Either you or he ______ to blame.", options: ["are", "is", "were", "have"], correct: 1, ruleId: 15, explanation: "'Or'-এর পরের Subject (he) অনুযায়ী Verb (is) বসবে।" },
            { id: 21, q: "He is good ______ English.", options: ["in", "at", "on", "for"], correct: 1, ruleId: 21, explanation: "কোনো বিষয়ে দক্ষ বোঝাতে 'good at' বসে।" },
            { id: 22, q: "I prefer tea ______ coffee.", options: ["than", "over", "to", "from"], correct: 2, ruleId: 12, explanation: "'Prefer'-এর পরে তুলনা বোঝাতে 'to' বসে।" },
            { id: 23, q: "Fifty kilometers ______ a long distance.", options: ["are", "were", "is", "have"], correct: 2, ruleId: 1, explanation: "নির্দিষ্ট দূরত্ব বা পরিমাণ বোঝালে Verb Singular (is) হয়।" },
            { id: 24, q: "He availed himself ______ the opportunity.", options: ["of", "with", "for", "in"], correct: 0, ruleId: 22, explanation: "'Avail'-এর পর reflexive pronoun এবং 'of' বসে।" },
            { id: 25, q: "Scarcely had he gone ______ she came.", options: ["than", "then", "when", "before"], correct: 2, ruleId: 31, explanation: "Scarcely had... থাকলে লিঙ্কার হিসেবে 'when' বসে।" },
            { id: 26, q: "No sooner did I see him ______ he ran away.", options: ["when", "then", "than", "that"], correct: 2, ruleId: 31, explanation: "No sooner... থাকলে লিঙ্কার হিসেবে 'than' বসে।" },
            { id: 27, q: "He is ______ M.A.", options: ["a", "an", "the", "no article"], correct: 1, ruleId: 4, explanation: "M.A.-এর উচ্চারণ ভাওয়েল সাউন্ড (Em-A) দিয়ে শুরু, তাই 'an' বসে।" },
            { id: 28, q: "The number of boys ______ increasing.", options: ["are", "is", "were", "have"], correct: 1, ruleId: 14, explanation: "'The number of' থাকলে Verb Singular (is) হয়।" },
            { id: 29, q: "A number of students ______ present.", options: ["is", "are", "was", "has"], correct: 1, ruleId: 14, explanation: "'A number of' থাকলে Verb Plural (are) হয়।" },
            { id: 30, q: "Let ______ go.", options: ["he", "him", "his", "they"], correct: 1, ruleId: 57, explanation: "'Let'-এর পরে Pronoun-এর Objective form (him) বসে।" },
            { id: 31, q: "She made me ______.", options: ["to cry", "crying", "cry", "cried"], correct: 2, ruleId: 57, explanation: "'Make' (Causative verb)-এর পর to ছাড়া Verb (cry) বসে।" },
            { id: 32, q: "He entered ______ the room.", options: ["in", "into", "to", "no preposition"], correct: 3, ruleId: 22, explanation: "প্রবেশ করা অর্থে 'enter'-এর পর কোনো preposition বসে না।" },
            { id: 33, q: "The committee ______ divided in their opinion.", options: ["was", "were", "has", "is"], correct: 1, ruleId: 42, explanation: "মতামত ভিন্ন হলে Committee Plural হিসেবে গণ্য হয়, তাই 'were'।" },
            { id: 34, q: "Each of the girls ______ done her work.", options: ["have", "has", "are", "were"], correct: 1, ruleId: 14, explanation: "'Each of' থাকলে Verb Singular (has) হয়।" },
            { id: 35, q: "My scissors ______ missing.", options: ["is", "are", "was", "has"], correct: 1, ruleId: 2, explanation: "Scissors জোড়া জিনিস, তাই এটি Plural Verb (are) নেয়।" },
            { id: 36, q: "Mathematics ______ difficult.", options: ["are", "were", "is", "have"], correct: 2, ruleId: 83, explanation: "বিষয়ের নাম Singular, তাই 'is'।" },
            { id: 37, q: "I have ______ friends.", options: ["few", "a few", "the few", "little"], correct: 1, ruleId: 18, explanation: "বন্ধু আছে (positive sense) বোঝাতে 'a few' বসে।" },
            { id: 38, q: "There is ______ water in the jug.", options: ["few", "many", "little", "a few"], correct: 2, ruleId: 19, explanation: "পানি নেই বললেই চলে (negative sense) বোঝাতে 'little' বসে।" },
            { id: 39, q: "This is the ______ book I have ever read.", options: ["good", "better", "best", "most best"], correct: 2, ruleId: 5, explanation: "'The' এর পর Superlative degree (best) বসে।" },
            { id: 40, q: "He is more wiser ______ than me.", options: ["then", "than", "to", "remove more"], correct: 3, ruleId: 13, explanation: "'Wiser' নিজেই Comparative, তাই 'more' ব্যবহার করা ভুল।" },
            { id: 41, q: "Although he is rich, ______ he is miser.", options: ["but", "yet", "still", "and"], correct: 1, ruleId: 47, explanation: "Although-এর সাথে 'yet' বা কমা বসে, but বসে না।" },
            { id: 42, q: "He walks as if he ______ lame.", options: ["is", "was", "were", "are"], correct: 2, ruleId: 46, explanation: "As if দ্বারা অবাস্তব তুলনা বোঝালে 'were' বসে।" },
            { id: 43, q: "Not only Ram but also his friends ______ present.", options: ["is", "was", "are", "has"], correct: 2, ruleId: 68, explanation: "'But also'-র পরের Subject (friends) অনুযায়ী Verb (are) হবে।" },
            { id: 44, q: "Two miles ______ not a long distance.", options: ["is", "are", "were", "have"], correct: 0, ruleId: 1, explanation: "নির্দিষ্ট দূরত্ব বোঝালে Verb Singular (is) হয়।" },
            { id: 45, q: "He is ______ honest man.", options: ["a", "an", "the", "no article"], correct: 1, ruleId: 4, explanation: "Honest-এর উচ্চারণ ভাওয়েল (O-nest) এর মতো, তাই 'an' বসে।" },
            { id: 46, q: "The cattle ______ grazing.", options: ["is", "are", "was", "has"], correct: 1, ruleId: 42, explanation: "'Cattle' সর্বদা Plural, তাই 'are' বসবে।" },
            { id: 47, q: "Gulliver's Travels ______ written by Swift.", options: ["are", "were", "is", "have"], correct: 2, ruleId: 83, explanation: "বইয়ের নাম সর্বদা Singular, তাই 'is'।" },
            { id: 48, q: "Slow and steady ______ the race.", options: ["win", "wins", "won", "winning"], correct: 1, ruleId: 1, explanation: "দুটি শব্দ মিলে একটি ভাব (singular idea) প্রকাশ করলে Verb Singular (wins) হয়।" },
            { id: 49, q: "He is junior ______ me.", options: ["than", "from", "to", "of"], correct: 2, ruleId: 12, explanation: "Junior-এর পর 'to' বসে।" },
            { id: 50, q: "Return the book ______ the library.", options: ["to", "at", "on", "for"], correct: 0, ruleId: 21, explanation: "কোনো দিকে বা স্থানে ফেরত দেওয়া বোঝাতে 'to' ব্যবহৃত হয়।" }
        ];

        // --- GLOBAL VARIABLES FOR QUIZ ---
        let currentQuizIndex = 0;
        let quizScore = 0;
        let wrongAnswers = []; 

        // --- RULES DATA (FULL 90 RULES) ---
        const rulesData = [
            { id: 1, title: "Subject–Verb Agreement", subtitle: "Singular → Singular, Plural → Plural", icon: "fa-user-check", concept: "Subject-এর number অনুযায়ী verb বদলায়। যদি Subject singular হয় তবে verb-ও singular হবে, আর plural হলে verb-ও plural হবে।", examples: [{ en: "The boy plays cricket.", bn: "boy (Singular) → plays (Singular)", rule: "S-S Agreement" }, { en: "The boys play cricket.", bn: "boys (Plural) → play (Plural)", rule: "P-P Agreement" }, { en: "My friend and his brother are coming.", bn: "Two people → Plural verb 'are'", rule: "Compound Subject" }] },
            { id: 2, title: "Plural Noun Formation", subtitle: "Regular & Irregular Rules", icon: "fa-layer-group", concept: "সাধারণত Noun-এর শেষে s/es যোগ করে plural করা হয় (Regular), কিন্তু কিছু শব্দ সম্পূর্ণ বদলে যায় (Irregular) যা মুখস্ত রাখতে হয়।", examples: [{ en: "Book → books", bn: "Regular noun → s যুক্ত হয়েছে", rule: "Regular" }, { en: "Bus → buses", bn: "শেষে s/sh/ch/x থাকলে es হয়", rule: "Ending Rule" }, { en: "Child → children", bn: "পুরো শব্দ বদলে গেছে", rule: "Irregular" }] },
            { id: 3, title: "Many vs Much", subtitle: "Countable vs Uncountable", icon: "fa-scale-balanced", concept: "যেসব Noun গোনা যায় (Countable) তাদের আগে 'Many' বসে, আর যা গোনা যায় না (Uncountable/পরিমাণ) তাদের আগে 'Much' বসে।", examples: [{ en: "I don’t have many books.", bn: "Books গোনা যায় → Many", rule: "Countable" }, { en: "There isn’t much water.", bn: "Water গোনা যায় না → Much", rule: "Uncountable" }, { en: "Many mistakes, not much progress.", bn: "Mistakes (Countable), Progress (Uncountable)", rule: "Mixed" }] },
            { id: 4, title: "Articles – A/An vs The", subtitle: "General vs Specific Usage", icon: "fa-a", concept: "সাধারণ বা অনির্দিষ্ট কিছুর আগে A বা An বসে। কিন্তু নির্দিষ্ট কোনো ব্যক্তি বা বস্তুর কথা বললে তার আগে The বসে।", examples: [{ en: "I saw a dog.", bn: "অনির্দিষ্ট কুকুর → A", rule: "General" }, { en: "The dog is barking.", bn: "নির্দিষ্ট কুকুর → The", rule: "Specific" }, { en: "An umbrella.", bn: "Vowel sound (ʌm) → An", rule: "Phonetic" }] },
            { id: 5, title: "Mandatory Use of “The”", subtitle: "Rivers, Holy Books, Superlatives", icon: "fa-star", concept: "নদী, সমুদ্র, মহাসাগর, ধর্মগ্রন্থ এবং Superlative degree-এর আগে 'The' ব্যবহার করা বাধ্যতামূলক।", examples: [{ en: "The Ganga is sacred.", bn: "নদীর নাম → The", rule: "River" }, { en: "She is the best student.", bn: "Superlative form → The", rule: "Degree" }, { en: "He reads the Bible.", bn: "ধর্মগ্রন্থ → The", rule: "Holy Book" }] },
            { id: 6, title: "Tense Consistency", subtitle: "Same time-frame = Same tense", icon: "fa-timeline", concept: "একই বাক্যে বা সংযুক্ত বাক্যাংশে Tense হঠাৎ পরিবর্তন করা যাবে না। যদি ঘটনার সময়কাল (Time-frame) একই হয়, তবে Tense-ও এক রাখতে হবে।", examples: [{ en: "He came and sat beside me.", bn: "Came (Past) + Sat (Past) → ঠিক আছে", rule: "Tense Match" }, { en: "He comes and sits beside me.", bn: "Comes (Present) + Sits (Present) → ঠিক আছে", rule: "Uniformity" }, { en: "I was walking and thinking.", bn: "দুইটি কাজ একই সময়ে চলছিল (Continuous)", rule: "Continuous Action" }] },
            { id: 7, title: "Present Perfect", subtitle: "Past Action + Present Effect", icon: "fa-clock-rotate-left", concept: "কোনো কাজ অতীতে শেষ হয়েছে কিন্তু তার ফলাফল বা প্রভাব এখনো বর্তমানে বিদ্যমান, এমন ক্ষেত্রে Present Perfect Tense ব্যবহৃত হয়।", examples: [{ en: "I have finished my work.", bn: "কাজ শেষ, কিন্তু effect এখনো আছে (Free now)", rule: "Present Relevance" }, { en: "She has lost her phone.", bn: "হারিয়ে গেছে এবং এখনো পাওয়া যায়নি", rule: "Active Result" }, { en: "They have moved to Kolkata.", bn: "Recently moved, currently there", rule: "Recent Change" }] },
            { id: 8, title: "Past Perfect", subtitle: "Earlier Past vs Later Past", icon: "fa-backward-step", concept: "অতীতে দুটি কাজ হলে, যে কাজটি আগে ঘটেছে তার জন্য Past Perfect (had + V3) এবং যেটি পরে ঘটেছে তার জন্য Simple Past ব্যবহৃত হয়।", examples: [{ en: "He had left before I reached.", bn: "Left first (had left) → Reached later (reached)", rule: "Earlier Past" }, { en: "They had eaten before she came.", bn: "Eating (Earlier) → Coming (Later)", rule: "Sequence" }, { en: "The train had started before we arrived.", bn: "Start (Earlier) → Arrive (Later)", rule: "Timeline" }] },
            { id: 9, title: "Will vs Going to", subtitle: "Decision vs Plan vs Evidence", icon: "fa-forward", concept: "হঠাৎ নেওয়া সিদ্ধান্তে 'Will' ব্যবহৃত হয়। কিন্তু আগে থেকে পরিকল্পনা করা থাকলে বা কোনো প্রমাণ (Evidence) দেখলে 'Going to' ব্যবহৃত হয়।", examples: [{ en: "I will call you later.", bn: "কথা বলার সময় সিদ্ধান্ত (Sudden)", rule: "Instant Decision" }, { en: "I am going to visit Delhi.", bn: "আগে থেকেই Plan করা", rule: "Planned Action" }, { en: "It is going to rain.", bn: "মেঘ দেখে বোঝা যাচ্ছে (Evidence)", rule: "Evidence Based" }] },
            { id: 10, title: "Modals & Base Verb", subtitle: "Can, Could, May, Will + V1", icon: "fa-anchor", concept: "যেকোনো Modal verb (যেমন: can, could, may, might, shall, should, will, would, must)-এর পর সর্বদা মূল Verb-এর Base form (V1) বসে।", examples: [{ en: "She can swim.", bn: "Can + Swim (V1)", rule: "Modal + Base" }, { en: "He may come today.", bn: "May + Come (No 'comes')", rule: "Base Form" }, { en: "It might rain.", bn: "Might + Rain (V1)", rule: "No S/ES" }] },
            { id: 11, title: "Conditionals (Type-1 & 2)", subtitle: "Real vs Unreal Conditions", icon: "fa-arrows-split-up-and-left", concept: "Type-1 (বাস্তব): If + Present Tense থাকলে পরের অংশে will + V1 হয়। Type-2 (অবাস্তব/কল্পনা): If + Past Tense থাকলে পরের অংশে would + V1 হয়।", examples: [{ en: "If you study, you will pass.", bn: "বাস্তব সম্ভাবনা (Real) → Type-1", rule: "If + Present → Will" }, { en: "If I were rich, I would travel.", bn: "অবাস্তব কল্পনা (Unreal) → Type-2", rule: "If + Past → Would" }, { en: "If it rains, we will stay home.", bn: "Realistic future condition → Type-1", rule: "Realistic Future" }] },
            { id: 12, title: "“Than” Takes Object Pronouns", subtitle: "Use me/him/us/them after Than", icon: "fa-people-arrows", concept: "তুলনা করার সময় 'Than'-এর পরে সাধারণত Object pronoun (me, him, her, us, them) বসে। Subject form (I, he) ব্যবহার করা ফরমাল গ্রামারে এড়ানো হয়।", examples: [{ en: "He is taller than me.", bn: "Than + me (Objective case)", rule: "Object Pronoun" }, { en: "She is stronger than him.", bn: "Stronger than he (ভুল) → Him (সঠিক)", rule: "Objective Case" }, { en: "They are better than us.", bn: "Better than we (ভুল) → Us (সঠিক)", rule: "Objective Case" }] },
            { id: 13, title: "No Double Comparative", subtitle: "Avoid 'More Better' or 'Most Highest'", icon: "fa-ban", concept: "একই শব্দে দুবার Comparative বা Superlative ব্যবহার করা যাবে না। যেমন 'More Better' বা 'Most Highest' বলা ভুল।", examples: [{ en: "❌ more better → ✔ better", bn: "Better নিজেই comparative", rule: "No Double Comp" }, { en: "❌ more stronger → ✔ stronger", bn: "Stronger নিজেই comparative", rule: "No Double Comp" }, { en: "❌ most highest → ✔ highest", bn: "Highest নিজেই superlative", rule: "No Double Super" }] },
            { id: 14, title: "Each vs Every", subtitle: "Always Singular Noun & Verb", icon: "fa-check-double", concept: "Each এবং Every সর্বদা Singular অর্থ বহন করে। তাই এদের পরে Noun এবং Verb দুটোই Singular হতে হবে।", examples: [{ en: "Each student has a notebook.", bn: "Each student (Singular) + has (Singular)", rule: "Singular Verb" }, { en: "Every boy is present.", bn: "Every + singular noun", rule: "Singular Structure" }, { en: "Each of them is responsible.", bn: "Each of + plural noun → singular verb", rule: "Each of + Plural" }] },
            { id: 15, title: "Either / Neither", subtitle: "Singular Verb & Proximity Rule", icon: "fa-left-right", concept: "Either এবং Neither সাধারণত Singular Verb নেয়। তবে 'OR' বা 'NOR' থাকলে Verb তার সবচেয়ে কাছের Subject অনুযায়ী (Proximity Rule) বসবে।", examples: [{ en: "Either of the books is good.", bn: "Either (One) → singular verb 'is'", rule: "Singular Meaning" }, { en: "Neither answer is correct.", bn: "Neither (Not one) → singular verb", rule: "Singular Meaning" }, { en: "Either Ravi or his friends are coming.", bn: "কাছের subject (friends) plural তাই verb plural", rule: "Proximity Rule" }] },
            { id: 16, title: "Between vs Among", subtitle: "Two vs More than Two", icon: "fa-users-between-lines", concept: "দুইজন ব্যক্তি বা বস্তুর মধ্যে কিছু ভাগ করতে 'Between' বসে। কিন্তু তিন বা তার বেশি জনের মধ্যে হলে 'Among' ব্যবহার করতে হয়।", examples: [{ en: "Divide it between you and me.", bn: "You + Me (2 persons) → Between", rule: "Two Entities" }, { en: "Share among the children.", bn: "Children (Many) → Among", rule: "3+ Entities" }, { en: "Fight between two groups.", bn: "Two specific groups → Between", rule: "Two Entities" }] },
            { id: 17, title: "Very vs Much", subtitle: "Adjective vs Comparative", icon: "fa-sliders", concept: "'Very' সাধারণত Positive degree-এর Adjective বা Adverb-কে মডিফাই করে। কিন্তু Comparative degree বা Participle-এর আগে 'Much' বসে।", examples: [{ en: "She is very happy.", bn: "Happy (Adjective) → Very", rule: "Very + Adj" }, { en: "She is much happier today.", bn: "Happier (Comparative) → Much", rule: "Much + Comp" }, { en: "He was much surprised.", bn: "Surprised (Participle) → Much", rule: "Much + Participle" }] },
            { id: 18, title: "Few vs A Few vs The Few", subtitle: "Countable Noun Usage", icon: "fa-arrow-down-short-wide", concept: "Countable Noun: 'Few' = প্রায় নেই (Negative)। 'A few' = অল্প কিছু আছে (Positive)। 'The few' = যেটুকু আছে তার সবটুকুই।", examples: [{ en: "I have few friends.", bn: "প্রায় বন্ধু নেই বললেই চলে (Negative)", rule: "Few (Negative)" }, { en: "I have a few friends.", bn: "কিছু বন্ধু আছে (Positive)", rule: "A Few (Some)" }, { en: "The few friends I have are loyal.", bn: "যতটুকু আছে তার সবটুকুই", rule: "The Few (All)" }] },
            { id: 19, title: "Little vs A Little vs The Little", subtitle: "Uncountable Noun Usage", icon: "fa-glass-water", concept: "Uncountable Noun: 'Little' = প্রায় নেই (Negative)। 'A little' = অল্প কিছু আছে (Positive)। 'The little' = যেটুকু আছে তার সবটুকুই।", examples: [{ en: "I have little money.", bn: "টাকা নেই বললেই চলে (Negative)", rule: "Little (Negative)" }, { en: "I have a little money.", bn: "কিছু টাকা আছে (Positive)", rule: "A Little (Some)" }, { en: "The little money I had was stolen.", bn: "যা ছিল সব চুরি হয়েছে", rule: "The Little (All)" }] },
            { id: 20, title: "Gerund vs Infinitive", subtitle: "Meaning Change", icon: "fa-person-running", concept: "Verb+ing (Gerund) কোনো কাজ বা অভ্যাস বোঝায়। কিন্তু To+verb (Infinitive) কোনো কাজের উদ্দেশ্য বা কারণ বোঝাতে ব্যবহৃত হয়।", examples: [{ en: "Stop smoking.", bn: "ধূমপান বন্ধ করা (Action)", rule: "Stop + Gerund" }, { en: "Stop to smoke.", bn: "ধূমপান করার জন্য থামা (Purpose)", rule: "Stop + Infinitive" }, { en: "I love reading.", bn: "Reading as a habit/hobby", rule: "Love + Gerund" }] },
            { id: 21, title: "Prepositions: at / in / on", subtitle: "Time & Place Usage", icon: "fa-location-dot", concept: "at = নির্দিষ্ট বিন্দু বা পয়েন্ট (point), in = কোনো কিছুর ভেতরে বা বড় এলাকা (container/city), on = কোনো কিছুর উপর বা নির্দিষ্ট দিন/তারিখ (surface/day)।", examples: [{ en: "He lives in Kolkata.", bn: "শহর (Large area) → In", rule: "Container/Area" }, { en: "I will meet you at 5 PM.", bn: "নির্দিষ্ট সময় (Point) → At", rule: "Specific Point" }, { en: "The book is on the table.", bn: "উপরিভাগ (Surface) → On", rule: "Surface" }] },
            { id: 22, title: "Preposition Collocations", subtitle: "Fixed Prepositions", icon: "fa-link", concept: "কিছু শব্দের সাথে Preposition নির্দিষ্ট থাকে। যেমন: বড় জায়গায় 'arrive in', ছোট জায়গায় 'arrive at', এবং নির্ভর করতে 'depend on' বসে।", examples: [{ en: "They arrived in India.", bn: "দেশ (Big place) → Arrive in", rule: "Big Place" }, { en: "He arrived at the station.", bn: "নির্দিষ্ট স্থান (Small place) → Arrive at", rule: "Specific Place" }, { en: "This is different from that.", bn: "তুলনা বোঝাতে Different from বসে", rule: "Fixed Prep" }] },
            { id: 23, title: "Very / Too / Enough", subtitle: "Degree & Meaning", icon: "fa-temperature-half", concept: "'Very' গুণ বাড়ায়। 'Too' নেতিবাচক অর্থ দেয় (এতটাই যে সহ্য করা যায় না)। 'Enough' মানে যথেষ্ট, এটি সর্বদা Adjective-এর পরে বসে (Tall enough)।", examples: [{ en: "She is very clever.", bn: "Clever-এর মাত্রা বাড়িয়েছে (Positive)", rule: "Emphasis" }, { en: "The soup is too hot to eat.", bn: "এতটাই গরম যে খাওয়া যাবে না (Negative)", rule: "Excessive" }, { en: "He is tall enough.", bn: "যথেষ্ট উচ্চতা (Adj + Enough)", rule: "Sufficient" }] },
            { id: 24, title: "Who / Whom / Whose", subtitle: "Subject vs Object vs Possession", icon: "fa-circle-question", concept: "কে কাজ করছে? → 'Who' (Subject)। কার ওপর কাজ হচ্ছে? → 'Whom' (Object)। কার মালিকানায়? → 'Whose' (Possession)।", examples: [{ en: "Who broke the vase?", bn: "Subject জানতে চায় → Who", rule: "Subject Case" }, { en: "Whom did you call?", bn: "Object জানতে চায় → Whom", rule: "Object Case" }, { en: "Whose bag was stolen?", bn: "মালিকানা (Possession) → Whose", rule: "Possessive Case" }] },
            { id: 25, title: "Preposition + Whom", subtitle: "Formal Structure", icon: "fa-user-tie", concept: "ফরমাল ইংরেজিতে Preposition সাধারণত Whom-এর ঠিক আগে বসে। যেমন: To whom (কাকে), With whom (কার সাথে), For whom (কার জন্য)।", examples: [{ en: "To whom did you give it?", bn: "Formal: Preposition before whom", rule: "Prep + Whom" }, { en: "With whom are you going?", bn: "Formal structure", rule: "Prep + Whom" }, { en: "For whom is this gift?", bn: "Beneficiary বোঝাতে For whom", rule: "Prep + Whom" }] },
            { id: 26, title: "Whose vs Of Which", subtitle: "Possession (Person vs Thing)", icon: "fa-house-chimney", concept: "মানুষের মালিকানা বোঝাতে 'Whose' বসে। বস্তুর ক্ষেত্রে ফরমাল ইংরেজিতে 'Of which' ব্যবহার হয়, তবে বর্তমানে বস্তুর ক্ষেত্রেও 'Whose' গ্রহণযোগ্য।", examples: [{ en: "The student whose bag...", bn: "ব্যক্তি (Person) → Whose", rule: "Person Poss." }, { en: "The house, the roof of which...", bn: "বস্তু (Thing-Formal) → Of which", rule: "Thing Poss." }, { en: "Company whose employees...", bn: "প্রতিষ্ঠান (Org) → Whose (Accepted)", rule: "Org Poss." }] },
            { id: 27, title: "Adjective vs Adverb", subtitle: "Good/Well, Hard/Hardly", icon: "fa-shapes", concept: "Adjective নাউনকে মডিফাই করে। Adverb ভার্বকে মডিফাই করে। মনে রাখবেন: Hard = কঠোর পরিশ্রম, Hardly = কদাচিৎ/প্রায় না।", examples: [{ en: "He is a good teacher.", bn: "Teacher (Noun) → Good (Adj)", rule: "Adj -> Noun" }, { en: "He teaches well.", bn: "Teaches (Verb) → Well (Adv)", rule: "Adv -> Verb" }, { en: "She hardly sleeps.", bn: "Hardly = প্রায় ঘুমায় না (Negative)", rule: "Negative Adv" }] },
            { id: 28, title: "Countable vs Uncountable", subtitle: "Quantity Words", icon: "fa-cubes-stacked", concept: "গণনাযোগ্য (Countable - যেমন বই) হলে many/few বসে। অগণনযোগ্য (Uncountable - যেমন জল, টাকা) হলে much/little বসে।", examples: [{ en: "She has many books.", bn: "Books (Countable) → Many", rule: "Countable" }, { en: "Much water in the tank.", bn: "Water (Uncountable) → Much", rule: "Uncountable" }, { en: "I have few coins left.", bn: "Coins (Countable) → Few", rule: "Countable" }] },
            { id: 29, title: "No Double Negative", subtitle: "Avoid Redundancy", icon: "fa-xmark", concept: "একটি বাক্যে দুটি নেগেটিভ শব্দ (যেমন: not + no/nothing) একসঙ্গে ব্যবহার করা ভুল। একে Double Negative বলে, যা অর্থের বিভ্রান্তি ঘটায়।", examples: [{ en: "I don’t want any help.", bn: "Don't + Any (সঠিক)", rule: "Single Negative" }, { en: "She didn’t say anything.", bn: "Didn't + Anything (সঠিক)", rule: "Single Negative" }, { en: "Nobody came.", bn: "Nobody নিজেই negative, তাই did not লাগবে না", rule: "Single Negative" }] },
            { id: 30, title: "Question Tags", subtitle: "Positive ↔ Negative", icon: "fa-circle-notch", concept: "মূল বাক্য Positive হলে Question Tag হবে Negative। আর মূল বাক্য Negative হলে Tag হবে Positive। ব্যতিক্রম: 'Let's' থাকলে সর্বদা 'shall we?' হয়।", examples: [{ en: "You are coming, aren’t you?", bn: "Positive statement → Negative tag", rule: "+ve → -ve" }, { en: "She doesn’t like tea, does she?", bn: "Negative statement → Positive tag", rule: "-ve → +ve" }, { en: "Let’s go, shall we?", bn: "Let's থাকলে সবসময় Shall we?", rule: "Exception" }] },
            { id: 31, title: "Inversion: Hardly/Scarcely", subtitle: "Auxiliary Verb Before Subject", icon: "fa-arrow-right-arrow-left", concept: "Hardly, Scarcely বা No sooner বাক্যের শুরুতে থাকলে Subject-এর আগে Auxiliary verb (had/did) চলে আসে। একেই Inversion বলে।", examples: [{ en: "Hardly had he reached home...", bn: "Hardly শুরুতে → had he reached (Inversion)", rule: "Inversion" }, { en: "Scarcely had I sat down...", bn: "Scarcely শুরুতে → had I sat (Inversion)", rule: "Inversion" }, { en: "No sooner had they arrived...", bn: "No sooner শুরুতে → had they arrived", rule: "Mandatory Inversion" }] },
            { id: 32, title: "Not only... but also", subtitle: "Beginning of Sentence → Inversion", icon: "fa-bolt", concept: "যদি 'Not only' বাক্যের একদম শুরুতে থাকে, তবে Subject এবং Verb-এর ক্রম উল্টে যায় (Inversion হয়)।", examples: [{ en: "Not only did he win, but also...", bn: "শুরুতে Not only → did he win (Inversion)", rule: "Initial Position" }, { en: "Not only was she intelligent...", bn: "Was she (Auxiliary before Subject)", rule: "Inversion" }, { en: "Not only do they study...", bn: "Do they (Auxiliary before Subject)", rule: "Inversion" }] },
            { id: 33, title: "Parallelism", subtitle: "Consistent Structure", icon: "fa-lines-leaning", concept: "একই বাক্যে তালিকাভুক্ত শব্দ বা বাক্যাংশগুলোর Grammatical form একই হতে হবে (সবগুলো noun, বা সব adjective, বা সব gerund)।", examples: [{ en: "He likes reading, writing, and swimming.", bn: "তিনটিই Gerund (ing) → Parallel", rule: "Gerunds" }, { en: "To sing, to dance, and to act.", bn: "তিনটিই Infinitive → Parallel", rule: "Infinitives" }, { en: "Honest, hardworking, and polite.", bn: "তিনটিই Adjective → Parallel", rule: "Adjectives" }] },
            { id: 34, title: "Misplaced Modifier", subtitle: "Place Modifier Next to Subject", icon: "fa-shuffle", concept: "Modifier যাকে বর্ণনা করছে, তার ঠিক পাশেই তাকে বসাতে হবে। অন্যথায় বাক্যের অর্থ হাস্যকর বা ভুল হতে পারে।", examples: [{ en: "Walking down the street, I saw...", bn: "'I' হাঁটছিলাম → তাই 'I'-এর পাশে modifier", rule: "Correct Placement" }, { en: "Served soup in paper cups to guests.", bn: "Soup-এর বিবরণ 'in paper cups' → তাই soup-এর পাশে", rule: "Noun Modifier" }, { en: "She drove for nearly ten hours.", bn: "Time modifier কাজের (drove) পরে", rule: "Adverbial Modifier" }] },
            { id: 35, title: "Dangling Modifier", subtitle: "Subject Must Be Present", icon: "fa-anchor-circle-xmark", concept: "Modifier-এর কাজটি যে Subject করছে, সেই Subject-কে বাক্যে অবশ্যই উপস্থিত থাকতে হবে। না থাকলে Modifier 'ঝুলে' (dangling) থাকে।", examples: [{ en: "Having finished dinner, I turned on TV.", bn: "কে finish করল? 'I' → Subject উপস্থিত", rule: "Subject Present" }, { en: "To improve health, he must exercise.", bn: "Improve করার subject 'he' উপস্থিত", rule: "Purpose Clause" }, { en: "While reading, I noticed...", bn: "পড়ার কাজটি 'I' করছিল → Subject মিল আছে", rule: "Active Subject" }] },
            { id: 36, title: "Too... to Structure", subtitle: "Negative Meaning (Inability)", icon: "fa-ban", concept: "Too + adjective + to + verb গঠনটি নেতিবাচক অর্থ প্রকাশ করে। এর মানে হলো 'এতটাই... যে কাজটি করা সম্ভব নয়'।", examples: [{ en: "He is too weak to walk.", bn: "এতটাই দুর্বল যে হাঁটতে পারছে না", rule: "Inability" }, { en: "The box is too heavy to lift.", bn: "এতটাই ভারী যে তোলা সম্ভব নয়", rule: "Inability" }, { en: "She was too tired to continue.", bn: "এতটাই ক্লান্ত যে কাজ চালাতে পারছে না", rule: "Inability" }] },
            { id: 37, title: "So... as Structure", subtitle: "Negative Comparison", icon: "fa-scale-unbalanced", concept: "নেতিবাচক বাক্যে (Negative sentence) তুলনার জন্য 'as...as' এর বদলে 'so...as' ব্যবহার করা ব্যাকরণগতভাবে বেশি শুদ্ধ।", examples: [{ en: "He is not so tall as his brother.", bn: "Negative comparison → so...as", rule: "Negative Comp" }, { en: "This is not so interesting as that.", bn: "Negative sentence → so...as", rule: "Structure" }, { en: "She is not so fast as her sister.", bn: "Negative → so...as", rule: "Negative Comp" }] },
            { id: 38, title: "Question Tags (Basics)", subtitle: "Opposite Polarity", icon: "fa-circle-question", concept: "Statement Positive হলে Tag Negative হবে। Statement Negative হলে Tag Positive হবে। Auxiliary verb এবং Subject pronoun মিল রাখতে হবে।", examples: [{ en: "She is a doctor, isn't she?", bn: "Positive statement → Negative tag", rule: "+ve → -ve" }, { en: "They aren't ready, are they?", bn: "Negative statement → Positive tag", rule: "-ve → +ve" }, { en: "You can swim, can't you?", bn: "Modal 'can' → can't you", rule: "Modal Tag" }] },
            { id: 39, title: "One vs Ones", subtitle: "Singular vs Plural Replacement", icon: "fa-1", concept: "একই Noun বারবার না লিখে একবচনে 'one' এবং বহুবচনে 'ones' ব্যবহার করা হয়।", examples: [{ en: "I lost my pen. Give me one.", bn: "Pen (Singular) → one", rule: "Singular Replacement" }, { en: "These apples are bad; take fresh ones.", bn: "Apples (Plural) → ones", rule: "Plural Replacement" }, { en: "Take the big one.", bn: "নির্দিষ্ট একটি জিনিসের পরিবর্তে one", rule: "Pronoun Usage" }] },
            { id: 40, title: "So do I / Neither do I", subtitle: "Agreement", icon: "fa-handshake", concept: "কারও সাথে একমত হতে: Positive বাক্যে 'So do I' এবং Negative বাক্যে 'Neither do I' ব্যবহৃত হয়।", examples: [{ en: "I like coffee. — So do I.", bn: "Positive agreement", rule: "So + Aux + Subj" }, { en: "I don't smoke. — Neither do I.", bn: "Negative agreement", rule: "Neither + Aux + Subj" }, { en: "She can swim. — So can I.", bn: "Modal থাকলে Modal-ই বসবে", rule: "So + Modal + Subj" }] },
            { id: 41, title: "Each other vs One another", subtitle: "Two vs More than Two", icon: "fa-user-group", concept: "দুইজনের মধ্যে পারস্পরিক কাজ হলে 'each other' এবং দুইয়ের অধিক হলে 'one another' বসে।", examples: [{ en: "The two friends hugged each other.", bn: "দুইজন → each other", rule: "Two People" }, { en: "The players congratulated one another.", bn: "অনেক খেলোয়াড় → one another", rule: "More than Two" }, { en: "The couple trust each other.", bn: "দম্পতি (২ জন) → each other", rule: "Two People" }] },
            { id: 42, title: "Collective Noun", subtitle: "Singular Verb as a Unit", icon: "fa-users-rectangle", concept: "Team, Family, Committee যখন একক ইউনিট হিসেবে কাজ করে, তখন তাদের পরে Singular Verb বসে।", examples: [{ en: "The team is winning.", bn: "Team একটি ইউনিট → is", rule: "Unit Concept" }, { en: "The committee decides the budget.", bn: "Committee একক সিদ্ধান্ত নিচ্ছে → decides", rule: "Singular Action" }, { en: "The family has arrived.", bn: "Family একক দল → has", rule: "Singular Verb" }] },
            { id: 43, title: "All / Every / Both", subtitle: "Singular vs Plural Usage", icon: "fa-layer-group", concept: "Every/Each-এর পর Singular Noun বসে। Both-এর পর Plural Noun এবং Plural Verb বসে।", examples: [{ en: "Every student is present.", bn: "Every + Singular Noun", rule: "Singular Rule" }, { en: "Each boy has a notebook.", bn: "Each + Singular Verb", rule: "Singular Rule" }, { en: "Both boys are playing.", bn: "Both + Plural Noun + Plural Verb", rule: "Plural Rule" }] },
            { id: 44, title: "Apostrophe Rules", subtitle: "'s vs s'", icon: "fa-quote-right", concept: "Singular noun-এর মালিকানা বোঝাতে 's বসে। কিন্তু Plural noun যদি s দিয়ে শেষ হয়, তবে শুধু অ্যাপস্ট্রফি (') বসে।", examples: [{ en: "The boy's book.", bn: "Boy (Singular) → 's", rule: "Singular Poss." }, { en: "The girls' room.", bn: "Girls (Plural ending in s) → s'", rule: "Plural Poss." }, { en: "Children's toys.", bn: "Children (Irregular Plural) → 's", rule: "Irregular Plural" }] },
            { id: 45, title: "Lest... Should", subtitle: "Negative Purpose", icon: "fa-triangle-exclamation", concept: "'Lest' মানে 'নাহলে' বা 'পাছে ভয় হয়'। এর পরে সর্বদা 'should' বসে। এখানে 'not' বসানো যাবে না কারণ Lest নিজেই নেতিবাচক।", examples: [{ en: "Walk carefully lest you should fall.", bn: "Lest + Should (পড়ে যাওয়ার ভয়ে)", rule: "Mandatory Pair" }, { en: "Study hard lest you should fail.", bn: "Lest + Should", rule: "Warning" }, { en: "Hurry lest we should miss the train.", bn: "Lest + Should", rule: "Negative Purpose" }] },
            { id: 46, title: "As if / As though", subtitle: "Unreal Past", icon: "fa-mask", concept: "As if / As though দিয়ে অবাস্তব বা কাল্পনিক কিছু বোঝালে এরপর Past Indefinite (were) বা Past Perfect Tense বসে।", examples: [{ en: "He talks as if he knew everything.", bn: "যেন সব জানে (আসলে জানে না) → Past Tense", rule: "Unreal Present" }, { en: "She behaves as though she were a queen.", bn: "যেন সে রানী (কল্পনা) → were", rule: "Subjunctive" }, { en: "He looks as if he had seen a ghost.", bn: "যেন ভূত দেখেছে (Past Perfect)", rule: "Unreal Past" }] },
            { id: 47, title: "Although / Though", subtitle: "Contrast (Yet / Comma)", icon: "fa-code-compare", concept: "Although বা Though দুটি বিপরীতধর্মী বাক্যকে যুক্ত করে। এদের সাথে 'but' বসে না, তবে 'yet' বা 'comma' বসানো যায়।", examples: [{ en: "Although it was raining, we went out.", bn: "Contrast: বৃষ্টি সত্ত্বেও বাইরে যাওয়া", rule: "Contrast" }, { en: "Though he is poor, he is honest.", bn: "বিপরীত গুণ: গরিব কিন্তু সৎ", rule: "Comma usage" }, { en: "Though she tried, yet she failed.", bn: "Though + Yet (Acceptable)", rule: "Pair usage" }] },
            { id: 48, title: "Used to vs Be Used to", subtitle: "Past Habit vs Accustomed", icon: "fa-clock-rotate-left", concept: "'Used to' + V1 = অতীতের অভ্যাস। 'Be used to' + V+ing = কোনো কিছুতে অভ্যস্ত হওয়া।", examples: [{ en: "I used to play cricket.", bn: "অতীতের অভ্যাস (এখন খেলি না)", rule: "Past Habit" }, { en: "I am used to waking up early.", bn: "অভ্যাস আছে (Accustomed) → ing", rule: "Habitual" }, { en: "He is getting used to the noise.", bn: "ধীরে ধীরে অভ্যস্ত হচ্ছে", rule: "Process" }] },
            { id: 49, title: "Ellipsis Rule", subtitle: "Omitting Repeated Words", icon: "fa-scissors", concept: "তুলনামূলক বাক্যে দ্বিতীয়বার একই Verb ব্যবহার না করে তা উহ্য (omitted) রাখা যায়। এতে বাক্য সুন্দর হয়।", examples: [{ en: "She reads more books than I (do).", bn: "'Do' উহ্য রাখা হয়েছে", rule: "Verb Omission" }, { en: "He is taller than I (am).", bn: "'Am' উহ্য আছে", rule: "Auxiliary Omission" }, { en: "She likes tea more than coffee.", bn: "Coffee-র পর 'likes' উহ্য", rule: "Verb Omission" }] },
            { id: 50, title: "Double Subject Error", subtitle: "Avoid Redundant Pronouns", icon: "fa-xmark", concept: "একই বাক্যে Subject (Noun) বসানোর পর ঠিক পরেই আবার তার Pronoun বসানো ভুল। একে Double Subject Error বলে।", examples: [{ en: "My brother lives in Delhi.", bn: "'My brother he...' বলা ভুল", rule: "Single Subject" }, { en: "The teacher gave homework.", bn: "'The teacher she...' বলা ভুল", rule: "No Redundancy" }, { en: "These boys are naughty.", bn: "'These boys they...' বলা ভুল", rule: "Correct Syntax" }] },
            { id: 51, title: "Quantifiers", subtitle: "Some vs Any vs None", icon: "fa-basket-shopping", concept: "Positive বাক্যে 'Some', Negative বাক্যে 'Any' এবং 'কেউ না/কিছু না' বোঝাতে 'None' বসে।", examples: [{ en: "I have some money.", bn: "Positive বাক্য → Some", rule: "Positive" }, { en: "I don't have any idea.", bn: "Negative বাক্য → Any", rule: "Negative" }, { en: "None of them were present.", bn: "কেউ উপস্থিত ছিল না → None", rule: "Zero Quantity" }] },
            { id: 52, title: "Participle Clause", subtitle: "Combining Sentences", icon: "fa-link", concept: "Present Participle (V+ing) বা Perfect Participle (Having+V3) ব্যবহার করে দুটি কাজকে একটি বাক্যে যুক্ত করা যায়।", examples: [{ en: "Having finished work, he went home.", bn: "কাজ শেষ করে... (Perfect Participle)", rule: "Sequence" }, { en: "Being tired, she slept early.", bn: "ক্লান্ত হওয়ায়... (Reason)", rule: "Reason-Result" }, { en: "Walking down the road, I met him.", bn: "হাঁটতে হাঁটতে... (Simultaneous)", rule: "Action" }] },
            { id: 53, title: "Adjective Order", subtitle: "OSASCOMP Rule", icon: "fa-arrow-down-1-9", concept: "একাধিক Adjective বসলে ক্রম হবে: Opinion → Size → Age → Shape → Colour → Origin → Material → Purpose.", examples: [{ en: "A beautiful small old red table.", bn: "Opinion → Size → Age → Colour", rule: "OSASCOMP" }, { en: "A nice big blue bag.", bn: "Opinion → Size → Colour", rule: "Order" }, { en: "A lovely young Indian girl.", bn: "Opinion → Age → Origin", rule: "Order" }] },
            { id: 54, title: "Cleft Sentences", subtitle: "Emphasis with 'It is'", icon: "fa-highlighter", concept: "বাক্যের কোনো নির্দিষ্ট অংশকে জোর দিতে 'It is... that...' বা 'It was... who...' গঠন ব্যবহার করা হয়।", examples: [{ en: "It was John who stole the money.", bn: "John-কেই জোর দেওয়া হচ্ছে", rule: "Person Emphasis" }, { en: "It is English that he loves.", bn: "English-কেই জোর দেওয়া হচ্ছে", rule: "Object Emphasis" }, { en: "It was yesterday when I met her.", bn: "সময়কে (Yesterday) জোর দেওয়া হচ্ছে", rule: "Time Emphasis" }] },
            { id: 55, title: "Subjunctive Mood", subtitle: "Base Form after Suggest/Demand", icon: "fa-gavel", concept: "Suggest, Recommend, Demand, Insist ইত্যাদি Verb-এর পর that clause-এ সর্বদা Verb-এর Base form (যেমন: be, go, pay) বসে।", examples: [{ en: "I suggest that he be present.", bn: "'is' এর বদলে 'be' (Base form)", rule: "Mandatory Base" }, { en: "It is important that she be careful.", bn: "Formal instruction → be", rule: "Adjective Subj." }, { en: "I demand that he pay the bill.", bn: "'pays' হবে না, 'pay' হবে", rule: "Verb Subj." }] },
            { id: 56, title: "Would rather / Had better", subtitle: "Preference & Advice", icon: "fa-thumbs-up", concept: "'Would rather' পছন্দ বা অগ্রাধিকার বোঝাতে এবং 'Had better' জোরালো পরামর্শ দিতে ব্যবহৃত হয়। উভয়ের পরেই V1 বসে।", examples: [{ en: "I would rather stay home.", bn: "পছন্দ (Preference) → V1", rule: "Preference" }, { en: "You had better finish your work.", bn: "পরামর্শ (Advice) → V1", rule: "Strong Advice" }, { en: "I'd rather not go.", bn: "Negative preference", rule: "Negative" }] },
            { id: 57, title: "Let / Make / Help", subtitle: "Causative Verbs", icon: "fa-hand-holding-hand", concept: "Let (অনুমতি), Make (বাধ্য করা) এবং Help (সাহায্য করা)-এর পর Object এবং তারপর to ছাড়া Verb (Bare Infinitive/V1) বসে।", examples: [{ en: "They let me go.", bn: "Let + Obj + Go (V1)", rule: "Permission" }, { en: "She made him cry.", bn: "Make + Obj + Cry (V1)", rule: "Force" }, { en: "He helped me finish the work.", bn: "Help + Obj + Finish (V1)", rule: "Assistance" }] },
            { id: 58, title: "Except / Despite", subtitle: "Exclusion & Contrast", icon: "fa-circle-minus", concept: "Except মানে 'ব্যতীত' বা 'ছাড়া'। Despite বা In spite of মানে 'সত্ত্বেও' (বিপরীত পরিস্থিতি)।", examples: [{ en: "Everyone came except him.", bn: "সে ছাড়া সবাই (Exclusion)", rule: "Exclusion" }, { en: "Despite the rain, we played.", bn: "বৃষ্টি সত্ত্বেও (Contrast)", rule: "Preposition" }, { en: "In spite of effort, he failed.", bn: "চেষ্টা সত্ত্বেও ব্যর্থতা", rule: "Contrast" }] },
            { id: 59, title: "Which vs That", subtitle: "Clause Types", icon: "fa-paperclip", concept: "অপরিহার্য তথ্য দিতে 'That' (Restrictive) বসে। অতিরিক্ত তথ্য দিতে 'Which' (Non-restrictive) বসে এবং কমা (,) ব্যবহার করতে হয়।", examples: [{ en: "The book that you gave is good.", bn: "কোন বইটি? নির্দিষ্ট করা হচ্ছে → That", rule: "Essential Info" }, { en: "The book, which you gave, is good.", bn: "বইটি পরিচিত, বাড়তি তথ্য → Which", rule: "Extra Info" }, { en: "The man that I saw was tall.", bn: "নির্দিষ্ট ব্যক্তি → That", rule: "Defining" }] },
            { id: 60, title: "Whether vs If", subtitle: "Choice vs Condition", icon: "fa-question", concept: "দুটি বিকল্প বা অনিশ্চয়তা (Choice/Doubt) থাকলে 'Whether' বসে। আর শর্ত (Condition) বোঝালে 'If' বসে।", examples: [{ en: "I don't know whether he will come.", bn: "আসবে কি না (অনিশ্চয়তা) → Whether", rule: "Uncertainty" }, { en: "Tell me whether this is correct.", bn: "সঠিক কি না (Option) → Whether", rule: "Choice" }, { en: "If it rains, we will stay home.", bn: "শর্ত: যদি বৃষ্টি হয় → If", rule: "Condition" }] },
            { id: 61, title: "Phrasal Verbs", subtitle: "Separable vs Inseparable", icon: "fa-puzzle-piece", concept: "Separable phrasal verb-এ object মাঝে বা শেষে বসতে পারে। কিন্তু Inseparable-এ object সবসময় শেষে বসে এবং particle আলাদা করা যায় না।", examples: [{ en: "He looked up the word. / looked the word up.", bn: "Separable: Object মাঝে বা শেষে বসতে পারে", rule: "Separable" }, { en: "He ran into an old friend.", bn: "Inseparable: Object শুধুই শেষে বসবে", rule: "Inseparable" }, { en: "She called the meeting off.", bn: "Separable: Object মাঝে বসেছে", rule: "Separable" }] },
            { id: 62, title: "Verb Patterns", subtitle: "Gerund vs Infinitive", icon: "fa-shapes", concept: "কিছু Verb-এর পর Gerund (-ing) বসে (যেমন: enjoy), আর কিছুর পর Infinitive (to+V1) বসে (যেমন: decide)। আবার কিছু শব্দে অর্থ বদলে যায়।", examples: [{ en: "I enjoy reading books.", bn: "Enjoy + Gerund (reading)", rule: "Verb + Gerund" }, { en: "He decided to go home.", bn: "Decide + Infinitive (to go)", rule: "Verb + Inf" }, { en: "Remember meeting vs Remember to meet", bn: "Meeting (Past Memory) vs To meet (Future Duty)", rule: "Meaning Change" }] },
            { id: 63, title: "Adjective vs Adverb", subtitle: "Confusion Words", icon: "fa-circle-exclamation", concept: "Adjective Noun-কে মডিফাই করে (Good singer), Adverb Verb-কে মডিফাই করে (Sings well)। Hard = কঠোর পরিশ্রম, Hardly = প্রায় না।", examples: [{ en: "He works hard.", bn: "Hard = কঠোর পরিশ্রম (Adverb)", rule: "Effort" }, { en: "He hardly works.", bn: "Hardly = প্রায় কাজ করে না (Negative)", rule: "Frequency" }, { en: "Good singer vs Sings well.", bn: "Good (Adj) vs Well (Adv)", rule: "Adj vs Adv" }] },
            { id: 64, title: "Reported Questions", subtitle: "Indirect Speech Rules", icon: "fa-comments", concept: "Indirect speech-এ প্রশ্নবোধক চিহ্ন থাকে না, Inversion (Subject-এর আগে Verb) হয় না এবং Tense অতীতে পরিবর্তিত হয়।", examples: [{ en: "He asked where I was going.", bn: "Where + Subject + Verb (No Inversion)", rule: "Statement Order" }, { en: "She asked what he had said.", bn: "Did say → Had said (Backshift)", rule: "Tense Change" }, { en: "He asked if I was happy.", bn: "Yes/No Question → If/Whether", rule: "Yes/No Q" }] },
            { id: 65, title: "Irregular Tag Questions", subtitle: "Exceptions to Rules", icon: "fa-tag", concept: "কিছু Tag Question নিয়মের ব্যতিক্রম। যেমন: Let's থাকলে 'shall we?', I am থাকলে 'aren't I?', এবং Nobody থাকলে 'they' বসে।", examples: [{ en: "Let's go, shall we?", bn: "Let's → Shall we?", rule: "Exception" }, { en: "I am right, aren't I?", bn: "I am → Aren't I?", rule: "Exception" }, { en: "Nobody came, did they?", bn: "Nobody (Negative) → Did they (Positive)", rule: "Pronoun Change" }] },
            { id: 66, title: "Mixed Conditionals", subtitle: "Past Cause, Present Result", icon: "fa-shuffle", concept: "অতীতের কোনো ঘটনার বর্তমান ফলাফল বোঝাতে Mixed Conditional ব্যবহৃত হয়। (If + Past Perfect → would + V1)।", examples: [{ en: "If he had studied, he would be successful now.", bn: "Past study (had studied) → Present success (would be)", rule: "Mixed Time" }, { en: "If I were rich, I would have helped.", bn: "Present state → Past action", rule: "Mixed Time" }, { en: "If you had come, we would be eating.", bn: "Past action → Present continuous result", rule: "Mixed Time" }] },
            { id: 67, title: "Conditional Inversion", subtitle: "Had/Were/Should at Start", icon: "fa-arrow-right-arrow-left", concept: "Formal English-এ 'If' বাদ দিয়ে Had, Were বা Should বাক্যের শুরুতে বসিয়ে Inversion করা যায়। অর্থ একই থাকে।", examples: [{ en: "Had I known, I would have helped.", bn: "Had I known = If I had known", rule: "Inversion" }, { en: "Were I you, I wouldn't do that.", bn: "Were I you = If I were you", rule: "Inversion" }, { en: "Should you need help, call me.", bn: "Should you need = If you should need", rule: "Inversion" }] },
            { id: 68, title: "Correlative Conjunctions", subtitle: "Nearest Subject Rule", icon: "fa-left-right", concept: "Either...or, Neither...nor-এর ক্ষেত্রে Verb সবসময় তার কাছের Subject (Nearest Subject) অনুযায়ী বসে। Both...and-এ সর্বদা Plural হয়।", examples: [{ en: "Both John and Rahul are coming.", bn: "Both...and → Plural Verb", rule: "Plural Rule" }, { en: "Either he or his friends are guilty.", bn: "Nearest subject 'friends' (Plural) → are", rule: "Proximity" }, { en: "Neither the students nor the teacher is present.", bn: "Nearest subject 'teacher' (Singular) → is", rule: "Proximity" }] },
            { id: 69, title: "Determiner Conflicts", subtitle: "Order & Restrictions", icon: "fa-ban", concept: "দুটি Determiner (যেমন: a, the, my, this) সাধারণত পাশাপাশি বসে না। Singular/Plural-এর মিল রাখতে হয়।", examples: [{ en: "my book (Not 'the my book')", bn: "Double determiner ভুল", rule: "Conflict" }, { en: "these books (Not 'this these books')", bn: "Singular 'this' + Plural 'books' ভুল", rule: "Number Match" }, { en: "I saw a man... the man smiled.", bn: "প্রথমবার 'a', দ্বিতীয়বার 'the'", rule: "Article Flow" }] },
            { id: 70, title: "Restrictive vs Non-restrictive", subtitle: "Comma Usage with Clauses", icon: "fa-quote-left", concept: "অপরিহার্য তথ্য (Restrictive) হলে কমা বসে না। অতিরিক্ত তথ্য (Non-restrictive) হলে কমা ব্যবহার করতে হয়।", examples: [{ en: "The man who lives next door...", bn: "Essential Info → No Comma", rule: "Restrictive" }, { en: "My brother, who lives abroad,...", bn: "Extra Info → Comma", rule: "Non-restrictive" }, { en: "The book that I bought...", bn: "Essential Info → No Comma", rule: "Restrictive" }] },
            { id: 71, title: "Nominalisation", subtitle: "Verb as Noun Subject", icon: "fa-font", concept: "Verb-কে Noun হিসেবে (Gerund বা Infinitive) বাক্যের Subject হিসেবে ব্যবহার করা যায়।", examples: [{ en: "Reading is good for the mind.", bn: "Reading (Gerund) as Subject", rule: "Gerund Subj" }, { en: "To err is human.", bn: "To err (Infinitive) as Subject", rule: "Inf Subj" }, { en: "Swimming helps us stay fit.", bn: "Swimming (Gerund) as Subject", rule: "Gerund Subj" }] },
            { id: 72, title: "Punctuation Rule", subtitle: "Introductory Clause Comma", icon: "fa-pen-nib", concept: "বাক্যের শুরুতে যদি কোনো Introductory phrase বা Clause থাকে, তবে তার পরে কমা (,) দেওয়া বাধ্যতামূলক।", examples: [{ en: "After the game, we went home.", bn: "Introductory phrase → Comma", rule: "Intro Comma" }, { en: "In the morning, she reads books.", bn: "Time phrase → Comma", rule: "Time Comma" }, { en: "Because it was raining, we stayed.", bn: "Dependent clause → Comma", rule: "Clause Comma" }] },
            { id: 73, title: "Capitalisation Rules", subtitle: "Proper Nouns & Titles", icon: "fa-a", concept: "Proper Noun (নাম, দেশ), Title (উপাধি) এবং ভাষার নাম সর্বদা বড় হাতের অক্ষর (Capital Letter) দিয়ে শুরু হয়।", examples: [{ en: "I visited India last year.", bn: "India (Country) → Capital", rule: "Proper Noun" }, { en: "She met Professor Roy.", bn: "Professor (Title) → Capital", rule: "Title" }, { en: "He studies English.", bn: "English (Language) → Capital", rule: "Language" }] },
            { id: 74, title: "Preposition Traps", subtitle: "Common Confusions", icon: "fa-exclamation", concept: "Arrive in (শহর/দেশ) vs Arrive at (নির্দিষ্ট স্থান)। Different from (সঠিক) vs Different than (ভুল)। On time (ঠিক সময়ে) vs In time (সময়ের আগে)।", examples: [{ en: "We arrived in Kolkata / at the station.", bn: "City → In, Station → At", rule: "Place Prep" }, { en: "This is different from that.", bn: "Always 'Different from'", rule: "Collocation" }, { en: "Reached on time vs in time.", bn: "On time (Sharp) vs In time (Early)", rule: "Time Prep" }] },
            { id: 75, title: "Ellipsis & Substitution", subtitle: "Avoiding Repetition", icon: "fa-scissors", concept: "পুনরাবৃত্তি এড়াতে শব্দ বাদ দেওয়া (Ellipsis) বা So, One, Do so ইত্যাদি ব্যবহার করা (Substitution) হয়।", examples: [{ en: "He likes tea, and so do I.", bn: "So do I = I also like tea", rule: "Substitution" }, { en: "Take a red pen if you need one.", bn: "One substitutes 'pen'", rule: "Substitution" }, { en: "If you want to leave, do so quietly.", bn: "Do so = Leave", rule: "Action Sub" }] },
            { id: 76, title: "Linking Verb + Complement", subtitle: "No Object Rule", icon: "fa-link", concept: "Linking Verb (be, seem, look, become) কোনো কাজ বোঝায় না, সাবজেক্টের অবস্থা বোঝায়। তাই এদের পর Object বসে না, Complement (Noun/Adjective) বসে।", examples: [{ en: "He is a doctor.", bn: "Is (Linking) → Doctor (Noun Complement)", rule: "Noun Comp" }, { en: "She looks happy.", bn: "Looks (Linking) → Happy (Adj Complement)", rule: "Adj Comp" }, { en: "He became the leader.", bn: "Became → Leader (Noun Complement)", rule: "Identity" }] },
            { id: 77, title: "Passive Voice Formation", subtitle: "Be + V3 Rules", icon: "fa-hammer", concept: "Passive Voice মানেই Be verb + V3। Tense অনুযায়ী Be verb পাল্টায়: Present Perfect-এ 'has been', Continuous-এ 'being', Past Perfect-এ 'had been' বসে।", examples: [{ en: "The work has been completed.", bn: "Has completed → Has been completed", rule: "Perfect Passive" }, { en: "The job is being done.", bn: "Is doing → Is being done", rule: "Continuous Passive" }, { en: "The car had been repaired.", bn: "Had repaired → Had been repaired", rule: "Past Perfect" }] },
            { id: 78, title: "Sequence of Tenses", subtitle: "Backshift Rule", icon: "fa-clock-rotate-left", concept: "Main verb যদি Past tense হয়, তবে Subordinate clause-এর Tense সাধারণত এক ধাপ অতীতে পিছিয়ে যায় (Backshift হয়)।", examples: [{ en: "He said that he was tired.", bn: "Is tired → Was tired (Backshift)", rule: "Pres → Past" }, { en: "She thought that he would come.", bn: "Will come → Would come", rule: "Future → Conditional" }, { en: "They realised she had left.", bn: "Left → Had left (Past → Past Perfect)", rule: "Past → Past Perf" }] },
            { id: 79, title: "Relative Pronoun Omission", subtitle: "Dropping That/Whom", icon: "fa-eraser", concept: "Relative pronoun (that, which, whom) যদি Object হিসেবে বসে, তবে তা উহ্য রাখা যায়। কিন্তু Subject হিসেবে থাকলে বাদ দেওয়া যায় না।", examples: [{ en: "The book (that) I bought...", bn: "Bought-এর object 'book' → That optional", rule: "Object Drop" }, { en: "The girl (whom) you met...", bn: "Met-এর object 'girl' → Whom optional", rule: "Object Drop" }, { en: "The movie (which) we watched...", bn: "Watched-এর object → Which optional", rule: "Object Drop" }] },
            { id: 80, title: "Determiner Order", subtitle: "Quantifier + Article", icon: "fa-arrow-down-1-9", concept: "Quantifier এবং Article-এর ক্রম নির্দিষ্ট। যেমন: All the..., Most of the...। 'The all' বা 'The most of' বলা ভুল।", examples: [{ en: "All the students passed.", bn: "All + The + Noun", rule: "All The" }, { en: "Most of the people left.", bn: "Most of + The + Noun", rule: "Most Of The" }, { en: "A lot of water is needed.", bn: "A lot of + Uncountable Noun", rule: "Quantifier" }] },
            { id: 81, title: "Verb Aspect", subtitle: "Simple vs Continuous vs Perfect", icon: "fa-eye", concept: "Simple = কাজটি সম্পূর্ণ (Completed)। Continuous = কাজটি চলছে (Ongoing)। Perfect = কাজের ফলাফল বর্তমান। Perfect Continuous = দীর্ঘ সময় ধরে চলছে।", examples: [{ en: "I worked yesterday.", bn: "Simple Past (Completed)", rule: "Completed" }, { en: "I was working when he called.", bn: "Continuous (Ongoing + Interrupted)", rule: "Ongoing" }, { en: "I have been working for hours.", bn: "Perfect Continuous (Duration)", rule: "Duration" }] },
            { id: 82, title: "Formality in Requests", subtitle: "Would vs Could vs Will", icon: "fa-hand-holding-heart", concept: "Politeness-এর মাত্রা: 'Would you mind + ing' (সবচেয়ে বিনীত), 'Could you + V1' (বিনীত), 'Will you + V1' (সাধারণ)।", examples: [{ en: "Would you mind opening the door?", bn: "Would you mind + Opening (Ing)", rule: "Most Polite" }, { en: "Could you help me?", bn: "Could + Help (V1)", rule: "Polite" }, { en: "Will you pass the salt?", bn: "Will + Pass (V1)", rule: "Neutral" }] },
            { id: 83, title: "Plural-Looking Singulars", subtitle: "News, Physics, Politics", icon: "fa-glasses", concept: "কিছু Noun দেখতে Plural (শেষে s আছে) মনে হলেও আসলে তারা Singular এবং Singular Verb নেয়। যেমন: News, Physics, Mathematics।", examples: [{ en: "The news is surprising.", bn: "News (Singular) → Is", rule: "Singular Noun" }, { en: "Physics is difficult.", bn: "Physics (Subject) → Is", rule: "Academic Subj" }, { en: "Mathematics is my favourite.", bn: "Mathematics → Is", rule: "Singular Concept" }] },
            { id: 84, title: "Negative Inversion", subtitle: "Never/Rarely at Start", icon: "fa-arrow-rotate-left", concept: "নেতিবাচক শব্দ (Never, Seldom, Rarely) বাক্যের শুরুতে থাকলে Inversion হয় (Subject-এর আগে Auxiliary Verb বসে)।", examples: [{ en: "Never have I seen such beauty.", bn: "Never শুরুতে → Have I seen", rule: "Inversion" }, { en: "Seldom does he speak.", bn: "Seldom শুরুতে → Does he speak", rule: "Inversion" }, { en: "Rarely do we get chances.", bn: "Rarely শুরুতে → Do we get", rule: "Inversion" }] },
            { id: 85, title: "Fronting for Emphasis", subtitle: "Intro Phrase + Comma", icon: "fa-bullhorn", concept: "জোর দেওয়ার জন্য বাক্যের শুরুতে সময়, স্থান বা অবজেক্ট আনলে তারপরে কমা দেওয়া জরুরি।", examples: [{ en: "Tomorrow, I will visit you.", bn: "Time Fronting → Comma", rule: "Time Emphasis" }, { en: "In the garden, we played.", bn: "Place Fronting → Comma", rule: "Place Emphasis" }, { en: "This book, I cannot read.", bn: "Object Fronting → Comma", rule: "Object Emphasis" }] },
            { id: 86, title: "Faulty Comparison", subtitle: "Comparing Like Items", icon: "fa-scale-balanced", concept: "তুলনা সর্বদা সমজাতীয় জিনিসের মধ্যে হতে হবে। 'Marks' এর সাথে 'Ram'-এর তুলনা ভুল; 'Ram-এর Marks'-এর সাথে তুলনা করতে হবে (those of Ram)।", examples: [{ en: "Marks higher than those of Ram.", bn: "Marks vs Marks (Correct)", rule: "Logical Comp" }, { en: "She is smarter than I am.", bn: "Subject vs Subject (Complete Clause)", rule: "Ellipsis" }, { en: "Better than the one I used.", bn: "Phone vs Phone (Using 'one')", rule: "Substitution" }] },
            { id: 87, title: "Phrasal Verb Particles", subtitle: "Placement Rules", icon: "fa-puzzle-piece", concept: "Separable Phrasal Verb-এ Object পার্টিকেলের আগে বা পরে বসতে পারে। কিন্তু Inseparable-এ Particle-এর পরেই Object বসাতে হয়।", examples: [{ en: "Made up a story / Made a story up.", bn: "Separable → Both correct", rule: "Separable" }, { en: "Put off the meeting / Put the meeting off.", bn: "Separable → Both correct", rule: "Separable" }, { en: "Ran into a friend (Not 'Ran a friend into').", bn: "Inseparable → Fixed Order", rule: "Inseparable" }] },
            { id: 88, title: "Fractions & Percentages", subtitle: "Verb Agreement", icon: "fa-chart-pie", concept: "Fraction বা Percentage-এর পর 'of + Noun' থাকলে, Verb সেই Noun অনুযায়ী বসে। Noun Plural হলে Verb Plural, Uncountable হলে Singular।", examples: [{ en: "20% of the students are absent.", bn: "Students (Plural) → Are", rule: "Plural Noun" }, { en: "20% of the work is done.", bn: "Work (Uncountable) → Is", rule: "Uncountable Noun" }, { en: "Half of the apples are rotten.", bn: "Apples (Plural) → Are", rule: "Fraction" }] },
            { id: 89, title: "Appositives", subtitle: "Essential vs Non-essential", icon: "fa-quote-right", concept: "Appositive যদি অপরিহার্য (Essential) হয় তবে কমা বসে না। আর যদি অতিরিক্ত তথ্য (Non-essential) দেয়, তবে দুই পাশে কমা বসে।", examples: [{ en: "My brother Raju is coming.", bn: "Raju (Essential Identifier) → No Comma", rule: "Essential" }, { en: "Raju, my brother, is coming.", bn: "My brother (Extra Info) → Comma", rule: "Non-essential" }, { en: "India's capital, New Delhi, is crowded.", bn: "New Delhi (Extra Info) → Comma", rule: "Non-essential" }] },
            { id: 90, title: "Conjunctive Adverbs", subtitle: "Semicolon + Transition", icon: "fa-link", concept: "দুটি স্বাধীন বাক্যকে 'However', 'Therefore', 'Moreover' দিয়ে যুক্ত করতে হলে আগে সেমিকোলন (;) এবং পরে কমা (,) বসাতে হয়।", examples: [{ en: "He was tired; however, he continued.", bn: "Semicolon + However + Comma", rule: "Contrast" }, { en: "She didn't study; therefore, she failed.", bn: "Semicolon + Therefore + Comma", rule: "Result" }, { en: "I like it. Moreover, it is practical.", bn: "New Sentence + Moreover + Comma", rule: "Addition" }] }
        ];

        // --- Helper to get Rule Data ---
        function getRuleById(id) {
            return rulesData.find(r => r.id === id) || rulesData[0];
        }

        // --- STATE ---
        let currentSessionRules = [];
        let currentIndex = 0;
        let timerInterval;
        let secondsElapsed = 0;
        
        const getDifficulty = (id) => localStorage.getItem(`rule_diff_${id}`) || null;
        const saveDifficulty = (id, level) => localStorage.setItem(`rule_diff_${id}`, level);

        // --- NAVIGATION LOGIC ---
        function goHome() {
            stopTimer();
            document.getElementById('homeView').classList.remove('hidden');
            document.getElementById('practiceMenu').classList.add('hidden');
            document.getElementById('sessionView').classList.add('hidden');
            document.getElementById('jumpMenu').classList.add('hidden');
            document.getElementById('quizView').classList.add('hidden');
            document.getElementById('quizReport').classList.add('hidden');
        }

        function showPracticeMenu() {
            document.getElementById('homeView').classList.add('hidden');
            document.getElementById('practiceMenu').classList.remove('hidden');
            renderPracticeButtons();
        }

        // --- QUIZ LOGIC ---
        function startQuiz() {
            currentQuizIndex = 0;
            quizScore = 0;
            wrongAnswers = [];
            // Shuffle quiz data for randomness
            quizData.sort(() => Math.random() - 0.5);
            
            document.getElementById('homeView').classList.add('hidden');
            document.getElementById('quizView').classList.remove('hidden');
            document.getElementById('quizReport').classList.add('hidden');
            
            renderQuizQuestion();
        }

        function renderQuizQuestion() {
            const q = quizData[currentQuizIndex];
            document.getElementById('questionText').innerText = `${currentQuizIndex + 1}. ${q.q}`;
            document.getElementById('quizProgressDisplay').innerText = `${currentQuizIndex + 1}/${quizData.length}`;
            document.getElementById('quizScoreDisplay').innerText = quizScore;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            document.getElementById('quizNextBtnContainer').classList.add('hidden');
            document.getElementById('quizFeedback').classList.add('hidden');

            q.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = "w-full p-4 rounded-xl bg-white/5 border border-white/10 text-left hover:bg-white/10 transition-all font-medium text-gray-200";
                btn.innerHTML = `<span class="inline-block w-6 h-6 rounded-full bg-white/10 text-center text-xs leading-6 mr-3 font-bold text-gray-400">${String.fromCharCode(65+idx)}</span> ${opt}`;
                btn.onclick = () => checkQuizAnswer(idx, btn);
                optionsContainer.appendChild(btn);
            });
        }

        function checkQuizAnswer(selectedIdx, btnElement) {
            const q = quizData[currentQuizIndex];
            const allBtns = document.getElementById('optionsContainer').children;
            
            // Disable all buttons
            for(let btn of allBtns) {
                btn.disabled = true;
                btn.classList.add('opacity-50', 'cursor-not-allowed');
            }
            btnElement.classList.remove('opacity-50');

            const feedbackEl = document.getElementById('quizFeedback');
            const feedbackIcon = document.getElementById('feedbackIcon');
            const feedbackTitle = document.getElementById('feedbackTitle');

            // --- Updated Feedback Content ---
            let feedbackHTML = '';

            if (selectedIdx === q.correct) {
                // Correct
                btnElement.classList.replace('border-white/10', 'border-green-500');
                btnElement.classList.add('bg-green-500/20');
                quizScore++;
                document.getElementById('quizScoreDisplay').innerText = quizScore;
                
                feedbackEl.className = "mt-6 p-4 rounded-xl bg-green-500/10 border border-green-500/30 animate-fade-in";
                feedbackHTML = `
                    <div class="flex items-center gap-3 mb-2">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-green-500 text-white"><i class="fa-solid fa-check"></i></div>
                        <h4 class="font-bold text-green-400">Correct Answer!</h4>
                    </div>
                    <p class="text-sm text-gray-300 mb-3 border-l-2 border-white/20 pl-3 leading-relaxed bengali-text">${q.explanation}</p>
                    <button onclick="openRuleModalFromQuiz()" class="w-full py-3 rounded-lg bg-royal-gold/10 text-royal-gold border border-royal-gold/30 hover:bg-royal-gold/20 text-xs font-bold uppercase tracking-widest transition-all">
                        <i class="fa-solid fa-book-open mr-2"></i> See Rule
                    </button>
                `;
            } else {
                // Wrong
                btnElement.classList.replace('border-white/10', 'border-red-500');
                btnElement.classList.add('bg-red-500/20');
                
                // Highlight correct one
                const correctBtn = allBtns[q.correct];
                correctBtn.classList.remove('opacity-50');
                correctBtn.classList.replace('border-white/10', 'border-green-500');
                correctBtn.classList.add('bg-green-500/20');

                wrongAnswers.push(q.ruleId);

                feedbackEl.className = "mt-6 p-4 rounded-xl bg-red-500/10 border border-red-500/30 animate-fade-in";
                feedbackHTML = `
                    <div class="flex items-center gap-3 mb-2">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-red-500 text-white"><i class="fa-solid fa-xmark"></i></div>
                        <h4 class="font-bold text-red-400">Wrong Answer</h4>
                    </div>
                    <p class="text-sm text-gray-300 mb-3 border-l-2 border-white/20 pl-3 leading-relaxed bengali-text">${q.explanation}</p>
                    <button onclick="openRuleModalFromQuiz()" class="w-full py-3 rounded-lg bg-royal-gold/10 text-royal-gold border border-royal-gold/30 hover:bg-royal-gold/20 text-xs font-bold uppercase tracking-widest transition-all">
                        <i class="fa-solid fa-book-open mr-2"></i> See Rule
                    </button>
                `;
            }

            feedbackEl.innerHTML = feedbackHTML;
            feedbackEl.classList.remove('hidden');
            document.getElementById('quizNextBtnContainer').classList.remove('hidden');
        }

        function nextQuestion() {
            if (currentQuizIndex < quizData.length - 1) {
                currentQuizIndex++;
                renderQuizQuestion();
            } else {
                finishQuiz();
            }
        }

        function quitQuiz() {
            if(confirm("Are you sure you want to quit? Progress will be saved.")) {
                finishQuiz();
            }
        }

        function finishQuiz() {
            document.getElementById('quizView').classList.add('hidden');
            document.getElementById('quizReport').classList.remove('hidden');
            
            document.getElementById('reportCorrect').innerText = quizScore;
            document.getElementById('reportWrong').innerText = wrongAnswers.length; // Actually total wrong attempts
            
            const weakList = document.getElementById('weakRulesList');
            weakList.innerHTML = '';
            
            if (wrongAnswers.length > 0) {
                document.getElementById('weakAreasContainer').classList.remove('hidden');
                // Unique wrong rules
                const uniqueWrongIds = [...new Set(wrongAnswers)];
                
                uniqueWrongIds.forEach(id => {
                    const rule = getRuleById(id);
                    if(rule) {
                        const div = document.createElement('div');
                        div.className = "p-3 bg-white/5 rounded-lg border border-white/10 flex items-center justify-between";
                        div.innerHTML = `
                            <div>
                                <span class="text-[10px] text-red-400 font-bold uppercase">Rule ${rule.id}</span>
                                <p class="text-white text-sm font-bold">${rule.title}</p>
                            </div>
                            <button onclick="openRuleModalFromReport(${rule.id})" class="text-xs bg-white/10 hover:bg-white/20 px-3 py-1.5 rounded-lg transition-colors text-gray-300">View</button>
                        `;
                        weakList.appendChild(div);
                    }
                });
            } else {
                document.getElementById('weakAreasContainer').classList.add('hidden');
            }

            // Save to LocalStorage
            const history = JSON.parse(localStorage.getItem('quiz_history') || '[]');
            history.push({
                date: new Date().toISOString(),
                score: quizScore,
                total: currentQuizIndex + 1,
                wrongIds: wrongAnswers
            });
            localStorage.setItem('quiz_history', JSON.stringify(history));
        }

        // --- RULE MODAL LOGIC ---
        function openRuleModalFromQuiz() {
            const ruleId = quizData[currentQuizIndex].ruleId;
            showRuleInModal(ruleId);
        }

        function openRuleModalFromReport(id) {
            showRuleInModal(id);
        }

        function showRuleInModal(id) {
            const rule = getRuleById(id);
            if (!rule) return;

            const modalContent = document.getElementById('ruleModalContent');
            modalContent.innerHTML = `
                <div class="space-y-6">
                    <div class="text-center space-y-2">
                        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-royal-gold/30 bg-royal-gold/10 text-royal-gold text-[10px] font-bold tracking-widest uppercase">
                            <i class="fa-solid ${rule.icon}"></i> Grammar Rule ${rule.id}
                        </div>
                        <h2 class="text-2xl font-bold text-white aristocratic-title">${rule.title}</h2>
                        <p class="text-gray-400 text-sm font-medium">${rule.subtitle}</p>
                    </div>
                    <div class="bg-white/5 rounded-xl p-4 border-l-4 border-royal-gold">
                        <h4 class="text-xs text-royal-gold font-bold uppercase tracking-widest mb-2 flex items-center gap-2">
                            <i class="fa-regular fa-lightbulb"></i> Concept
                        </h4>
                        <p class="text-base text-gray-200 bengali-text leading-relaxed font-light">${rule.concept}</p>
                    </div>
                    <div>
                        <h4 class="text-xs font-bold text-gray-400 mb-3 uppercase tracking-widest">Examples</h4>
                        <div class="space-y-3">
                            ${rule.examples.map((ex, i) => `
                                <div class="bg-black/20 rounded-lg p-3 border border-white/5">
                                    <p class="font-serif text-sm text-white mb-1">"${ex.en}"</p>
                                    <p class="text-xs text-gray-400 bengali-text">${ex.bn}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('ruleModal').classList.remove('hidden');
        }

        // --- JUMP MENU LOGIC ---
        function showJumpMenu() {
            const container = document.getElementById('jumpListContainer');
            container.innerHTML = currentSessionRules.map((rule, idx) => {
                const isCurrent = idx === currentIndex;
                const diff = getDifficulty(rule.id);
                let diffColor = 'border-gray-200 dark:border-slate-700';
                if(diff === 'easy') diffColor = 'border-green-400 dark:border-green-500';
                if(diff === 'moderate') diffColor = 'border-yellow-400 dark:border-yellow-500';
                if(diff === 'difficult') diffColor = 'border-red-400 dark:border-red-500';

                return `
                    <button onclick="jumpToRule(${idx})" class="w-full text-left p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-all border-l-2 ${diffColor} ${isCurrent ? 'bg-white/10 ring-1 ring-royal-gold/50' : ''}">
                        <div class="flex justify-between items-center">
                            <div>
                                <span class="text-[10px] font-bold text-gray-400 uppercase tracking-wider">Rule ${rule.id}</span>
                                <h4 class="font-bold text-gray-200 text-sm font-sans line-clamp-1">${rule.title}</h4>
                            </div>
                            ${isCurrent ? '<i class="fa-solid fa-bolt text-royal-gold animate-pulse"></i>' : ''}
                        </div>
                    </button>
                `;
            }).join('');
            document.getElementById('jumpMenu').classList.remove('hidden');
        }

        function closeJumpMenu() {
            document.getElementById('jumpMenu').classList.add('hidden');
        }

        function jumpToRule(index) {
            currentIndex = index;
            renderCurrentRule();
            closeJumpMenu();
        }

        // --- PRACTICE MENU LOGIC ---
        function renderPracticeButtons() {
            const container = document.getElementById('filterButtons');
            const counts = { easy: 0, moderate: 0, difficult: 0, all: rulesData.length };
            rulesData.forEach(r => {
                const diff = getDifficulty(r.id);
                if (diff) counts[diff]++;
            });

            const createBtn = (label, count, type, color, icon) => `
                <button onclick="startSession('practice', '${type}')" 
                    class="w-full p-5 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-between group ${count === 0 ? 'opacity-50 cursor-not-allowed' : ''}" ${count === 0 ? 'disabled' : ''}>
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 rounded-full ${color} flex items-center justify-center text-xl shadow-lg">
                            <i class="${icon}"></i>
                        </div>
                        <div class="text-left">
                            <h4 class="font-bold text-white text-lg aristocratic-title">${label}</h4>
                            <p class="text-xs text-gray-400 font-mono">${count} Rules</p>
                        </div>
                    </div>
                    <i class="fa-solid fa-chevron-right text-gray-500 group-hover:text-white transition-colors"></i>
                </button>
            `;

            container.innerHTML = `
                ${createBtn('The Difficult Path', counts.difficult, 'difficult', 'bg-red-500/20 text-red-500 border border-red-500/30', 'fa-solid fa-skull')}
                ${createBtn('The Moderate Path', counts.moderate, 'moderate', 'bg-yellow-500/20 text-yellow-500 border border-yellow-500/30', 'fa-solid fa-layer-group')}
                ${createBtn('The Easy Path', counts.easy, 'easy', 'bg-green-500/20 text-green-500 border border-green-500/30', 'fa-solid fa-leaf')}
                ${createBtn('Full Archive', counts.all, 'all', 'bg-royal-gold/20 text-royal-gold border border-royal-gold/30', 'fa-solid fa-infinity')}
            `;
        }

        function startSession(mode, filterType = null) {
            if (mode === 'learn' || filterType === 'all') {
                currentSessionRules = [...rulesData];
            } else {
                currentSessionRules = rulesData.filter(r => getDifficulty(r.id) === filterType);
            }
            if (currentSessionRules.length === 0) return;
            currentIndex = 0;
            document.getElementById('homeView').classList.add('hidden');
            document.getElementById('practiceMenu').classList.add('hidden');
            document.getElementById('sessionView').classList.remove('hidden');
            renderCurrentRule();
            startTimer();
        }

        function endSession() {
            if(confirm("Do you wish to leave the arena?")) {
                goHome();
            }
        }

        function startTimer() {
            stopTimer();
            secondsElapsed = 0;
            document.getElementById('timerDisplay').innerText = "00:00";
            timerInterval = setInterval(() => {
                secondsElapsed++;
                const mins = Math.floor(secondsElapsed / 60).toString().padStart(2, '0');
                const secs = (secondsElapsed % 60).toString().padStart(2, '0');
                document.getElementById('timerDisplay').innerText = `${mins}:${secs}`;
            }, 1000);
        }

        function stopTimer() {
            clearInterval(timerInterval);
        }

        function renderCurrentRule() {
            const rule = currentSessionRules[currentIndex];
            const contentArea = document.getElementById('ruleContentArea');
            const total = currentSessionRules.length;
            document.getElementById('progressDisplay').innerText = `RULE ${currentIndex + 1} OF ${total}`;
            
            document.getElementById('prevBtn').disabled = currentIndex === 0;
            const nextBtn = document.getElementById('nextBtn');
            if (currentIndex === total - 1) {
                nextBtn.innerHTML = `COMPLETE <i class="fa-solid fa-flag-checkered"></i>`;
                nextBtn.className = "flex-1 h-12 rounded-xl bg-green-600 text-white font-bold text-sm shadow-lg shadow-green-500/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 uppercase tracking-wide";
            } else {
                nextBtn.innerHTML = `NEXT RULE <i class="fa-solid fa-arrow-right"></i>`;
                nextBtn.className = "flex-1 h-12 rounded-xl bg-gradient-to-r from-royal-gold to-amber-600 text-black font-bold text-sm shadow-lg shadow-amber-500/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 uppercase tracking-wide";
            }

            const diff = getDifficulty(rule.id);
            updateDifficultyUI(diff);

            contentArea.innerHTML = `
                <div class="animate-slide-up space-y-6">
                    <div class="text-center space-y-2">
                        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-royal-gold/30 bg-royal-gold/10 text-royal-gold text-[10px] font-bold tracking-widest uppercase">
                            <i class="fa-solid ${rule.icon}"></i> Grammar Rule ${rule.id}
                        </div>
                        <h2 class="text-3xl sm:text-4xl font-bold text-white aristocratic-title leading-tight">${rule.title}</h2>
                        <p class="text-gray-400 font-medium">${rule.subtitle}</p>
                    </div>
                    <div class="glass-card rounded-2xl p-6 border-l-4 border-royal-gold relative overflow-hidden group">
                        <div class="absolute top-0 right-0 w-24 h-24 bg-royal-gold/10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"></div>
                        <h4 class="text-xs text-royal-gold font-bold uppercase tracking-widest mb-3 flex items-center gap-2">
                            <i class="fa-regular fa-lightbulb"></i> Core Concept
                        </h4>
                        <p class="text-lg text-gray-200 bengali-text leading-relaxed font-light">${rule.concept}</p>
                    </div>
                    <div>
                        <h4 class="text-sm font-bold text-gray-400 mb-4 uppercase tracking-widest flex items-center gap-2">
                            <i class="fa-solid fa-bolt text-yellow-500"></i> Master Examples
                        </h4>
                        <div class="space-y-4">
                            ${rule.examples.map((ex, i) => `
                                <div class="bg-white/5 rounded-xl p-5 border border-white/10 hover:border-royal-gold/30 transition-colors">
                                    <div class="flex items-start gap-3">
                                        <div class="mt-1 w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-[10px] font-bold text-gray-400 flex-shrink-0 border border-white/5">
                                            ${i + 1}
                                        </div>
                                        <div class="flex-1">
                                            <p class="font-serif text-lg text-white mb-2 border-b border-white/5 pb-2">"${ex.en}"</p>
                                            <div class="space-y-1">
                                                <p class="text-sm text-gray-300 bengali-text"><span class="text-gray-500 text-xs uppercase font-bold mr-2">Meaning:</span>${ex.bn}</p>
                                                <p class="text-xs text-royal-gold font-mono mt-1"><i class="fa-solid fa-code-branch"></i> Logic: ${ex.rule}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function setDifficulty(level) {
            const ruleId = currentSessionRules[currentIndex].id;
            saveDifficulty(ruleId, level);
            updateDifficultyUI(level);
            const btn = document.getElementById(`btn-${level}`);
            btn.classList.add('scale-105');
            setTimeout(() => btn.classList.remove('scale-105'), 200);
        }

        function updateDifficultyUI(level) {
            const levels = ['easy', 'moderate', 'difficult'];
            const activeClass = {
                easy: 'bg-green-500/20 text-green-400 border-green-500',
                moderate: 'bg-yellow-500/20 text-yellow-400 border-yellow-500',
                difficult: 'bg-red-500/20 text-red-400 border-red-500'
            };
            levels.forEach(l => {
                const btn = document.getElementById(`btn-${l}`);
                btn.className = `flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border transition-all flex items-center justify-center gap-2 text-gray-400 hover:text-white hover:bg-white/5 border-white/10`;
                if (l === level) {
                    btn.className = `flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border transition-all flex items-center justify-center gap-2 ${activeClass[l]} shadow-[0_0_10px_rgba(0,0,0,0.3)]`;
                }
            });
        }
    </script>
</body>
</html>
