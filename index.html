<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English RuleMaster - SSC INSIGHT</title>
    
    <script src="rules_data.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Noto+Sans+Bengali:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'sans-serif'],
                        serif: ['Cinzel', 'serif'],
                        bengali: ['Noto Sans Bengali', 'sans-serif'],
                    },
                    colors: {
                        royal: {
                            900: '#050b14',
                            800: '#0f172a',
                            gold: '#ffd700',
                            accent: '#f59e0b',
                        },
                        glass: {
                            light: 'rgba(255, 255, 255, 0.05)',
                            border: 'rgba(255, 255, 255, 0.1)',
                        }
                    },
                    animation: {
                        'float': 'float 8s ease-in-out infinite',
                        'float-reverse': 'floatReverse 10s ease-in-out infinite',
                        'glow': 'glow 3s ease-in-out infinite alternate',
                        'slide-up': 'slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-slight': 'bounceSlight 2s infinite',
                        'typewriter': 'typewriter 2s steps(40) forwards',
                        'fade-in-up': 'fadeInUp 1s ease-out forwards',
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: 0 }, '100%': { opacity: 1 } },
                        float: {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-10px) rotate(2deg)' },
                        },
                        floatReverse: {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(10px) rotate(-2deg)' },
                        },
                        glow: {
                            'from': { boxShadow: '0 0 5px rgba(255, 215, 0, 0.2)' },
                            'to': { boxShadow: '0 0 20px rgba(255, 215, 0, 0.6)' }
                        },
                        slideUp: {
                            '0%': { opacity: 0, transform: 'translateY(20px)' },
                            '100%': { opacity: 1, transform: 'translateY(0)' }
                        },
                        fadeInUp: {
                            '0%': { opacity: 0, transform: 'translateY(40px)' },
                            '100%': { opacity: 1, transform: 'translateY(0)' }
                        },
                        bounceSlight: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' }
                        },
                        typewriter: {
                            'to': { left: '100%' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .bengali-text { font-family: 'Noto Sans Bengali', sans-serif; }
        .aristocratic-title { font-family: 'Cinzel', serif; letter-spacing: 0.02em; }
        
        /* Premium Background */
        .bg-royal-mesh {
            background-color: #020617;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(251, 191, 36, 0.08) 0%, transparent 25%), 
                radial-gradient(circle at 85% 30%, rgba(59, 130, 246, 0.08) 0%, transparent 25%);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Scroll Snap Polish */
        .snap-container {
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
        }
        .snap-section {
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        /* Hide scrollbar for intro */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Reveal Animation Classes (triggered by JS) */
        .reveal-hidden { opacity: 0; transform: translateY(30px); transition: all 1s ease-out; }
        .reveal-visible { opacity: 1; transform: translateY(0); }
        
        .scale-hidden { opacity: 0; transform: scale(0.9); transition: all 0.8s ease-out; }
        .scale-visible { opacity: 1; transform: scale(1); }

    </style>
</head>
<body class="bg-royal-mesh text-gray-100 h-screen flex flex-col overflow-hidden selection:bg-royal-gold selection:text-black relative">

    <div class="fixed inset-0 pointer-events-none z-0">
        <div class="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"></div>
        <div class="particle w-96 h-96 top-[-10%] left-[-10%] blur-3xl opacity-20"></div>
        <div class="particle w-80 h-80 bottom-[-10%] right-[-10%] blur-3xl opacity-20 delay-500"></div>
    </div>

    <!-- INTRO SEQUENCE RESTORED -->
    <section id="introView" class="fixed inset-0 z-50 bg-royal-900 snap-container overflow-y-scroll h-screen w-full no-scrollbar">
        
        <div class="fixed right-6 top-1/2 transform -translate-y-1/2 flex flex-col gap-4 z-50">
            <div class="w-1.5 h-1.5 rounded-full bg-royal-gold/20 active-indicator transition-all duration-500" id="ind-0"></div>
            <div class="w-1.5 h-1.5 rounded-full bg-royal-gold/20 active-indicator transition-all duration-500" id="ind-1"></div>
            <div class="w-1.5 h-1.5 rounded-full bg-royal-gold/20 active-indicator transition-all duration-500" id="ind-2"></div>
            <div class="w-1.5 h-1.5 rounded-full bg-royal-gold/20 active-indicator transition-all duration-500" id="ind-3"></div>
            <div class="w-1.5 h-1.5 rounded-full bg-royal-gold/20 active-indicator transition-all duration-500" id="ind-4"></div>
            <div class="w-1.5 h-1.5 rounded-full bg-royal-gold/20 active-indicator transition-all duration-500" id="ind-5"></div>
        </div>

        <div class="fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 animate-bounce text-gray-500 text-xs uppercase tracking-widest font-bold pointer-events-none" id="scrollHint">
            Scroll <i class="fa-solid fa-chevron-down ml-1"></i>
        </div>

        <div class="snap-section h-screen w-full flex items-center justify-center p-6 relative intro-scene" data-index="0">
            <div class="max-w-lg text-center reveal-element reveal-hidden">
                <div class="w-20 h-20 mx-auto bg-red-500/10 rounded-full flex items-center justify-center mb-6 border border-red-500/20 shadow-[0_0_30px_rgba(239,68,68,0.2)] animate-pulse-slow">
                    <i class="fa-solid fa-cloud-bolt text-3xl text-red-500"></i>
                </div>
                <h1 class="text-3xl sm:text-4xl font-bold text-white mb-6 bengali-text leading-tight drop-shadow-xl">
                    Competitive পরিক্ষার জন্য তোমাদের <br/>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-orange-400">English grammar-এর</span><br/>
                    এত rule মনে রাখা সত্যি কঠিন।
                </h1>
                <p class="text-gray-400 text-sm font-light tracking-widest uppercase mt-8 opacity-60">The Reality</p>
            </div>
        </div>

        <div class="snap-section h-screen w-full flex items-center justify-center p-6 relative intro-scene" data-index="1">
            <div class="max-w-xl w-full reveal-element scale-hidden">
                <div class="glass-card p-8 rounded-3xl border border-white/10 relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-blue-500 to-transparent"></div>
                    
                    <p class="text-xl sm:text-2xl text-gray-300 bengali-text font-light leading-relaxed mb-8 text-center">
                        "কতবার পড়েও ভুল হয়ে যায়,<br/>আর English strong হতে <br/><span class="text-white font-bold">কত সময় লেগে যায়...</span>"
                    </p>
                    
                    <div class="flex justify-center">
                        <div class="relative bg-white/5 border border-white/10 px-6 py-3 rounded-full">
                            <span class="text-blue-400 font-bold font-sans text-xl tracking-wide relative z-10">We get it.</span>
                            <div class="absolute inset-0 bg-blue-500/10 blur-md rounded-full animate-pulse"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="snap-section h-screen w-full flex items-center justify-center p-6 relative intro-scene" data-index="2">
            <div class="max-w-lg text-center reveal-element reveal-hidden">
                <h2 class="text-2xl sm:text-3xl font-bold text-white bengali-text mb-8 leading-snug">
                    এই app তোমাদের এই problem থেকে <br/>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-royal-gold to-yellow-200">চিরকালের মতো মুক্তি দেবে।</span>
                </h2>
                
                <div class="grid grid-cols-1 gap-4">
                    <div class="glass-card p-4 rounded-xl flex items-center gap-4 hover:bg-white/5 transition-colors group border-l-4 border-royal-gold">
                        <div class="w-10 h-10 rounded-full bg-royal-gold/10 flex items-center justify-center text-royal-gold group-hover:scale-110 transition-transform"><i class="fa-solid fa-list-check"></i></div>
                        <div class="text-left">
                            <h3 class="text-white font-bold text-sm">120 Exam-Focused Rules</h3>
                            <p class="text-gray-400 text-xs">Curated for SSC CGL</p>
                        </div>
                    </div>
                    <div class="glass-card p-4 rounded-xl flex items-center gap-4 hover:bg-white/5 transition-colors group border-l-4 border-blue-500">
                        <div class="w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-400 group-hover:scale-110 transition-transform"><i class="fa-solid fa-language"></i></div>
                        <div class="text-left">
                            <h3 class="text-white font-bold text-sm">Bengali Explanation</h3>
                            <p class="text-gray-400 text-xs">Easy to understand</p>
                        </div>
                    </div>
                    <div class="glass-card p-4 rounded-xl flex items-center gap-4 hover:bg-white/5 transition-colors group border-l-4 border-green-500">
                        <div class="w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center text-green-400 group-hover:scale-110 transition-transform"><i class="fa-solid fa-brain"></i></div>
                        <div class="text-left">
                            <h3 class="text-white font-bold text-sm">Smart Quiz Arena</h3>
                            <p class="text-gray-400 text-xs">20 Distinct Quizzes</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="snap-section h-screen w-full flex items-center justify-center p-6 relative intro-scene" data-index="3">
            <div class="w-full max-w-md reveal-element scale-hidden">
                <div class="relative bg-gradient-to-br from-[#1e293b] to-[#0f172a] p-8 rounded-3xl border border-white/10 shadow-2xl">
                    <div class="absolute top-0 right-0 p-4 opacity-10"><i class="fa-solid fa-chart-line text-6xl text-white"></i></div>
                    
                    <p class="text-lg text-blue-200 bengali-text text-center mb-8">
                        Daily মাত্র <span class="text-white font-bold font-sans">30 minutes</span> practice + quiz
                    </p>
                    
                    <div class="flex items-center justify-center mb-8">
                        <i class="fa-solid fa-arrow-down text-2xl text-royal-gold animate-bounce"></i>
                    </div>

                    <div class="text-center bg-white/5 p-4 rounded-xl border border-white/5">
                        <p class="text-2xl text-white font-bold bengali-text mb-1">১ মাসেই</p>
                        <p class="text-green-400 font-bold uppercase tracking-widest text-sm">Noticeable Improvement</p>
                    </div>

                    <p class="mt-6 text-center text-gray-400 text-xs italic bengali-text border-t border-white/5 pt-4">
                        "Consistency রাখলে তুমি নিজেই বুঝবে কোথায় ভুল কমছে আর speed কত বাড়ছে।"
                    </p>
                </div>
            </div>
        </div>

        <div class="snap-section h-screen w-full flex items-center justify-center p-6 relative intro-scene" data-index="4">
            <div class="max-w-lg w-full text-center reveal-element reveal-hidden">
                <div class="relative inline-block mb-8 group cursor-pointer">
                    <div class="absolute -inset-4 bg-royal-gold/20 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"></div>
                    <i class="fa-solid fa-book-open-reader text-7xl text-royal-gold animate-float relative z-10 drop-shadow-[0_0_15px_rgba(255,215,0,0.5)]"></i>
                </div>
                
                <h2 class="text-2xl font-bold text-white mb-6 bengali-text">মনে করো এটা একটা <span class="text-royal-gold font-serif italic">Living Book</span></h2>
                
                <div class="space-y-4 text-left max-w-sm mx-auto">
                    <div class="flex items-center gap-4 text-gray-300 bengali-text text-lg opacity-0 animate-fade-in-up" style="animation-delay: 200ms; animation-fill-mode: forwards;">
                        <span class="w-2 h-2 rounded-full bg-royal-gold"></span>
                        যা সবসময় তোমার সাথে থাকে
                    </div>
                    <div class="flex items-center gap-4 text-gray-300 bengali-text text-lg opacity-0 animate-fade-in-up" style="animation-delay: 400ms; animation-fill-mode: forwards;">
                        <span class="w-2 h-2 rounded-full bg-blue-400"></span>
                        যে তোমাকে <span class="text-blue-300 font-bold mx-1">Question</span> করে
                    </div>
                    <div class="flex items-center gap-4 text-gray-300 bengali-text text-lg opacity-0 animate-fade-in-up" style="animation-delay: 600ms; animation-fill-mode: forwards;">
                        <span class="w-2 h-2 rounded-full bg-red-400"></span>
                        তোমার <span class="text-red-300 font-bold mx-1">ভুল</span> ধরে
                    </div>
                    <div class="flex items-center gap-4 text-gray-300 bengali-text text-lg opacity-0 animate-fade-in-up" style="animation-delay: 800ms; animation-fill-mode: forwards;">
                        <span class="w-2 h-2 rounded-full bg-green-400"></span>
                        আর <span class="text-green-300 font-bold mx-1">ঠিকটা</span> শিখিয়ে দেয়
                    </div>
                </div>
            </div>
        </div>

        <div class="snap-section h-screen w-full flex items-center justify-center p-6 relative intro-scene" data-index="5">
            <div class="text-center w-full max-w-md reveal-element scale-hidden">
                <h2 class="text-3xl font-bold text-white mb-8 bengali-text">কি, এবার English-এর ভয় কাটবে তো?</h2>
                
                <button onclick="enterApplication()" class="relative group w-full py-5 bg-gradient-to-r from-royal-gold to-amber-500 rounded-xl overflow-hidden shadow-[0_0_30px_rgba(251,191,36,0.3)] hover:shadow-[0_0_50px_rgba(251,191,36,0.5)] transition-all duration-300">
                    <div class="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
                    <div class="relative flex items-center justify-center gap-3">
                        <span class="text-black font-bold text-xl bengali-text uppercase tracking-wide">চলো — শুরু করি আজ থেকেই</span>
                        <i class="fa-solid fa-arrow-right text-black group-hover:translate-x-1 transition-transform"></i>
                    </div>
                </button>
                
                <p class="mt-6 text-xs text-gray-500 uppercase tracking-[0.3em]">Your Journey Begins Now</p>
            </div>
        </div>

    </section>

    <!-- MAIN NAVBAR -->
    <nav id="mainNav" class="hidden absolute top-0 w-full z-40 px-6 py-6 flex justify-between items-center bg-gradient-to-b from-black/80 to-transparent animate-slide-up">
        <div class="flex items-center gap-3">
            <div class="w-11 h-11 rounded-full border border-royal-gold/30 bg-white/5 flex items-center justify-center overflow-hidden shadow-[0_0_15px_rgba(251,191,36,0.15)] backdrop-blur-sm">
                <img src="logo.png" alt="SSC Insight" class="w-full h-full object-cover" onerror="this.src='https://ui-avatars.com/api/?name=SSC+Insight&background=ffd700&color=000'">
            </div>
            <div>
                <h1 class="font-bold text-white tracking-wider text-sm aristocratic-title text-royal-gold drop-shadow-md">English RuleMaster</h1>
                <p class="text-[9px] text-gray-400 tracking-[0.2em] uppercase font-medium">SSC INSIGHT BENGALI</p>
            </div>
        </div>
    </nav>

    <!-- DASHBOARD VIEW -->
    <section id="homeView" class="hidden flex-grow flex flex-col pt-28 pb-8 px-4 sm:px-6 max-w-xl mx-auto w-full h-full overflow-y-auto relative z-10 no-scrollbar">
        
        <div class="text-center mb-10 animate-slide-up">
            <h1 class="text-3xl sm:text-4xl font-bold text-white mb-4 aristocratic-title leading-tight drop-shadow-xl">
                Conquer SSC CGL English <br/>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-royal-gold to-orange-400 text-2xl sm:text-3xl font-sans mt-2 block bengali-text">বাংলায় সহজ সমাধান</span>
            </h1>
            <p class="text-gray-400 text-sm leading-relaxed max-w-md mx-auto font-light">
                Master 120 concise grammar rules with practice quizzes, revision packs, and bite-size lessons — built specifically for SSC CGL aspirants.
            </p>
        </div>

        <div class="grid gap-4 mb-10">
            <!-- 1. START LEARNING -->
            <button onclick="startSession('learn')" class="group relative overflow-hidden rounded-2xl bg-gradient-to-r from-[#1A1F2C] to-[#121620] border border-white/10 p-6 text-left shadow-2xl transition-all hover:scale-[1.02] hover:border-royal-gold/40 animate-slide-up delay-100">
                <div class="absolute inset-0 bg-gradient-to-r from-royal-gold/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                <div class="relative z-10 flex justify-between items-center">
                    <div>
                        <div class="flex items-center gap-2 mb-2">
                            <span class="h-1.5 w-1.5 rounded-full bg-green-500 animate-pulse"></span>
                            <span class="text-[10px] font-bold text-royal-gold uppercase tracking-widest">Core Module</span>
                        </div>
                        <h3 class="text-xl font-bold text-white aristocratic-title">Start Learning</h3>
                        <p class="text-gray-400 text-xs mt-1">120 Golden Rules with Examples</p>
                    </div>
                    <div class="w-12 h-12 rounded-full bg-white/5 flex items-center justify-center border border-white/10 group-hover:bg-royal-gold group-hover:text-black transition-all duration-300 shadow-lg">
                        <i class="fa-solid fa-book-open text-lg"></i>
                    </div>
                </div>
            </button>

            <!-- 2. QUIZ ARENA (UPDATED LINK) -->
            <button onclick="window.location.href='Quiz_App.html'" class="group relative overflow-hidden rounded-2xl bg-gradient-to-r from-[#1A1F2C] to-[#121620] border border-emerald-500/30 p-6 text-left shadow-2xl transition-all hover:scale-[1.02] hover:border-emerald-500 hover:shadow-emerald-500/10 animate-slide-up delay-200">
                <div class="absolute inset-0 bg-gradient-to-r from-emerald-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                <div class="relative z-10 flex justify-between items-center">
                    <div>
                        <div class="flex items-center gap-2 mb-2">
                            <span class="h-1.5 w-1.5 rounded-full bg-emerald-500 animate-pulse"></span>
                            <span class="text-[10px] font-bold text-emerald-400 uppercase tracking-widest">New Feature</span>
                        </div>
                        <h3 class="text-xl font-bold text-white aristocratic-title">Quiz Arena</h3>
                        <p class="text-gray-400 text-xs mt-1">Select from <span class="text-white font-bold">20 Distinct Quizzes</span></p>
                    </div>
                    <div class="w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center border border-emerald-500/20 group-hover:bg-emerald-500 group-hover:text-white transition-all duration-300 shadow-lg">
                        <i class="fa-solid fa-layer-group text-lg"></i>
                    </div>
                </div>
            </button>

            <!-- 3. QUICK REVISION -->
            <button onclick="showPracticeMenu()" class="group relative overflow-hidden rounded-2xl bg-gradient-to-r from-[#1A1F2C] to-[#121620] border border-white/10 p-6 text-left shadow-2xl transition-all hover:scale-[1.02] hover:border-blue-500/40 animate-slide-up delay-300">
                <div class="absolute inset-0 bg-gradient-to-r from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                <div class="relative z-10 flex justify-between items-center">
                    <div>
                        <h3 class="text-xl font-bold text-white aristocratic-title">Quick Revision</h3>
                        <p class="text-gray-400 text-xs mt-1">Review your weak areas</p>
                    </div>
                    <div class="flex -space-x-3 group-hover:space-x-1 transition-all duration-300">
                        <div class="w-8 h-8 rounded-full border-2 border-[#1A1F2C] bg-green-500 flex items-center justify-center text-[8px] font-bold text-white">E</div>
                        <div class="w-8 h-8 rounded-full border-2 border-[#1A1F2C] bg-yellow-500 flex items-center justify-center text-[8px] font-bold text-black">M</div>
                        <div class="w-8 h-8 rounded-full border-2 border-[#1A1F2C] bg-red-500 flex items-center justify-center text-[8px] font-bold text-white">H</div>
                    </div>
                </div>
            </button>
        </div>

        <!-- Social & Footer -->
        <div class="grid grid-cols-3 gap-3 mb-10 animate-slide-up delay-400">
            <a href="https://www.youtube.com/@SSCINSIGHTBENGALI?sub_confirmation=1" target="_blank" class="glass-card p-4 rounded-2xl flex flex-col items-center justify-center text-center gap-2 hover:bg-red-600 hover:border-red-500 transition-all duration-300 group">
                <i class="fa-brands fa-youtube text-2xl text-red-500 group-hover:text-white transition-colors"></i>
                <span class="text-[10px] font-bold uppercase tracking-wider text-gray-300 group-hover:text-white">YouTube</span>
            </a>
            <a href="https://chat.whatsapp.com/HX6nMksgdE57GSRkrNmE5l" target="_blank" class="glass-card p-4 rounded-2xl flex flex-col items-center justify-center text-center gap-2 hover:bg-green-600 hover:border-green-500 transition-all duration-300 group">
                <i class="fa-brands fa-whatsapp text-2xl text-green-500 group-hover:text-white transition-colors"></i>
                <span class="text-[10px] font-bold uppercase tracking-wider text-gray-300 group-hover:text-white">Community</span>
            </a>
            <a href="https://sscinsightbengali.akamai.net.in/zero-price-courses" target="_blank" class="glass-card p-4 rounded-2xl flex flex-col items-center justify-center text-center gap-2 hover:bg-blue-600 hover:border-blue-500 transition-all duration-300 group">
                <i class="fa-solid fa-mobile-screen-button text-2xl text-blue-500 group-hover:text-white transition-colors"></i>
                <span class="text-[10px] font-bold uppercase tracking-wider text-gray-300 group-hover:text-white">Get App</span>
            </a>
        </div>

        <div class="relative w-full mt-8 mb-8 animate-slide-up delay-500">
            <div class="flex items-center gap-3 mb-4 opacity-80">
                <div class="h-px bg-gradient-to-r from-transparent to-royal-gold w-full"></div>
                <span class="text-[10px] font-bold text-royal-gold uppercase tracking-[0.2em] whitespace-nowrap">Meet Your Mentor</span>
                <div class="h-px bg-gradient-to-r from-royal-gold to-transparent w-full"></div>
            </div>
            <div class="relative glass-card rounded-2xl p-6 border border-white/5 bg-gradient-to-br from-[#1e293b]/90 to-[#0f172a]/95 shadow-xl overflow-hidden group hover:border-royal-gold/20 transition-all duration-500">
                <div class="absolute top-0 right-0 w-32 h-32 bg-royal-gold/5 rounded-full blur-3xl -mr-10 -mt-10 group-hover:bg-royal-gold/10 transition-colors"></div>
                <div class="flex flex-col sm:flex-row items-center gap-6 relative z-10">
                    <div class="relative">
                        <div class="w-24 h-24 rounded-full p-[2px] bg-gradient-to-b from-royal-gold to-transparent shadow-lg">
                            <div class="w-full h-full rounded-full p-[2px] bg-royal-900">
                                <img src="Dyuti.png" alt="Dyutimala Datta" class="w-full h-full object-cover rounded-full filter brightness-110" onerror="this.src='https://ui-avatars.com/api/?name=Dyutimala+Datta&background=random'">
                            </div>
                        </div>
                        <div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-royal-gold to-yellow-600 text-royal-900 text-[9px] font-extrabold px-3 py-0.5 rounded-full uppercase tracking-widest shadow-lg border border-yellow-300/30">
                            Instructor
                        </div>
                    </div>
                    <div class="text-center sm:text-left flex-1 space-y-3">
                        <div>
                            <h3 class="text-xl font-bold text-white aristocratic-title tracking-wide">Dyutimala Datta</h3>
                            <p class="text-[11px] text-blue-200/80 font-medium uppercase tracking-wider mt-0.5">Scientific Officer (CWC)</p>
                        </div>
                        <div class="flex flex-col gap-1.5">
                            <div class="flex items-center justify-center sm:justify-start gap-2 text-xs text-gray-300 bg-white/5 py-1 px-3 rounded-lg border border-white/5 w-full sm:w-auto mx-auto sm:mx-0">
                                <i class="fa-solid fa-trophy text-royal-gold text-[10px]"></i> <span>Cracked SSC CGL 2 Times</span>
                            </div>
                            <div class="flex items-center justify-center sm:justify-start gap-2 text-xs text-gray-300 bg-white/5 py-1 px-3 rounded-lg border border-white/5 w-full sm:w-auto mx-auto sm:mx-0">
                                <i class="fa-solid fa-graduation-cap text-blue-400 text-[10px]"></i> <span>M.Sc. Physics (1st Class)</span>
                            </div>
                            <div class="flex items-center justify-center sm:justify-start gap-2 text-xs text-gray-300 bg-white/5 py-1 px-3 rounded-lg border border-white/5 w-full sm:w-auto mx-auto sm:mx-0">
                                <i class="fa-solid fa-users text-emerald-400 text-[10px]"></i> <span>Mentored 1000+ Aspirants</span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-400 italic bengali-text border-t border-white/5 pt-3 mt-2">"Real strategies, exam-focused explanations in Bengali."</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-8 text-center pb-4 opacity-40 hover:opacity-100 transition-opacity">
            <p class="text-[9px] text-gray-500 uppercase tracking-[0.3em] font-bold">Crafted with <i class="fa-solid fa-heart text-red-500 mx-1"></i> by SSC Insight</p>
        </div>
    </section>

    <!-- RULE LEARNING SESSION VIEW -->
    <section id="sessionView" class="hidden fixed inset-0 z-50 bg-royal-900 flex flex-col bg-royal-mesh">
        <div class="px-6 py-4 flex items-center justify-between z-20 border-b border-white/5 bg-black/20 backdrop-blur-md">
            <button onclick="endSession()" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 text-gray-400 transition-colors">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <div class="flex flex-col items-center">
                <div class="text-royal-gold text-lg font-mono font-bold tracking-widest flex items-center gap-2 drop-shadow-md">
                    <span id="timerDisplay">00:00</span>
                </div>
            </div>
            <div class="flex items-center gap-3">
                <div class="text-[10px] font-bold text-gray-500 uppercase tracking-widest" id="progressDisplay">1/120</div>
                <button onclick="showJumpMenu()" class="w-10 h-10 flex items-center justify-center rounded-full bg-royal-gold/10 text-royal-gold border border-royal-gold/20 hover:bg-royal-gold/20 transition-all shadow-[0_0_10px_rgba(251,191,36,0.1)]">
                    <i class="fa-solid fa-bars-staggered text-sm"></i>
                </button>
            </div>
        </div>

        <div class="flex-grow overflow-y-auto p-4 sm:p-6 pb-40" id="ruleContentArea"></div>

        <div class="absolute bottom-6 left-4 right-4 z-30">
            <div class="glass-card rounded-2xl p-4 shadow-2xl shadow-black/50">
                <div class="flex justify-center gap-2 mb-4">
                    <button onclick="setDifficulty('easy')" id="btn-easy" class="flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border border-white/10 transition-all flex items-center justify-center gap-2 text-gray-400 hover:text-white hover:bg-white/5">
                        <i class="fa-regular fa-face-smile"></i> Easy
                    </button>
                    <button onclick="setDifficulty('moderate')" id="btn-moderate" class="flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border border-white/10 transition-all flex items-center justify-center gap-2 text-gray-400 hover:text-white hover:bg-white/5">
                        <i class="fa-regular fa-face-meh"></i> Medium
                    </button>
                    <button onclick="setDifficulty('difficult')" id="btn-difficult" class="flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border border-white/10 transition-all flex items-center justify-center gap-2 text-gray-400 hover:text-white hover:bg-white/5">
                        <i class="fa-regular fa-face-frown"></i> Hard
                    </button>
                </div>
                <div class="flex gap-3">
                    <button onclick="prevRule()" id="prevBtn" class="w-12 h-12 flex items-center justify-center rounded-xl bg-white/5 text-white border border-white/10 hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-colors">
                        <i class="fa-solid fa-arrow-left"></i>
                    </button>
                    <button onclick="nextRule()" id="nextBtn" class="flex-1 h-12 rounded-xl bg-gradient-to-r from-royal-gold to-amber-600 text-black font-bold text-sm shadow-lg shadow-amber-500/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 uppercase tracking-wide">
                        Next Rule <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- JUMP MENU -->
    <section id="jumpMenu" class="hidden fixed inset-0 z-50 bg-black/90 backdrop-blur-xl flex flex-col animate-fade-in">
        <div class="p-6 pt-12 flex justify-between items-center border-b border-white/10">
            <h2 class="text-2xl font-bold text-white aristocratic-title">Rule Codex</h2>
            <button onclick="closeJumpMenu()" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors">
                <i class="fa-solid fa-times"></i>
            </button>
        </div>
        <div class="flex-grow overflow-y-auto p-4 sm:p-6 pb-20">
            <div class="grid grid-cols-1 gap-2" id="jumpListContainer"></div>
        </div>
    </section>

    <!-- PRACTICE MENU -->
    <section id="practiceMenu" class="hidden fixed inset-0 z-50 bg-royal-mesh flex flex-col animate-fade-in">
        <div class="p-6 pt-12">
            <button onclick="goHome()" class="mb-6 flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
                <i class="fa-solid fa-arrow-left"></i> Back to Home
            </button>
            <h2 class="text-3xl font-bold text-white aristocratic-title mb-2">The Arena</h2>
            <p class="text-gray-400 text-sm mb-8">Select your challenge level.</p>
            <div class="grid gap-4" id="filterButtons"></div>
        </div>
    </section>

    <script>
        // --- INTRO ANIMATION LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            const observerOptions = {
                root: document.getElementById('introView'),
                threshold: 0.5
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const hiddenElements = entry.target.querySelectorAll('.reveal-hidden, .scale-hidden');
                        hiddenElements.forEach(el => {
                            el.classList.remove('reveal-hidden', 'scale-hidden');
                            el.classList.add('reveal-visible', 'scale-visible');
                        });
                        
                        const index = entry.target.getAttribute('data-index');
                        document.querySelectorAll('.active-indicator').forEach((ind, i) => {
                            if(i == index) {
                                ind.classList.add('bg-royal-gold', 'scale-150');
                                ind.classList.remove('bg-royal-gold/20');
                            } else {
                                ind.classList.remove('bg-royal-gold', 'scale-150');
                                ind.classList.add('bg-royal-gold/20');
                            }
                        });

                        if(index == 5) {
                            document.getElementById('scrollHint').classList.add('hidden');
                        }
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.intro-scene').forEach(scene => {
                observer.observe(scene);
            });
        });

        // --- APP STATE ---
        function enterApplication() {
            const intro = document.getElementById('introView');
            const home = document.getElementById('homeView');
            const nav = document.getElementById('mainNav');
            
            intro.style.pointerEvents = 'none';
            intro.style.transition = 'opacity 0.5s ease-in-out';
            intro.style.opacity = '0';
            
            setTimeout(() => {
                intro.style.display = 'none'; 
                intro.classList.add('hidden');
                home.classList.remove('hidden');
                nav.classList.remove('hidden');
                nav.classList.add('flex');
            }, 500);
        }

        // --- Helper to get Rule Data ---
        function getRuleById(id) {
            return rulesData.find(r => r.id === id) || rulesData[0];
        }

        // --- STATE ---
        let currentSessionRules = [];
        let currentIndex = 0;
        let timerInterval;
        let secondsElapsed = 0;
        
        const getDifficulty = (id) => localStorage.getItem(`rule_diff_${id}`) || null;
        const saveDifficulty = (id, level) => localStorage.setItem(`rule_diff_${id}`, level);

        // --- NAVIGATION LOGIC ---
        function goHome() {
            stopTimer();
            document.getElementById('homeView').classList.remove('hidden');
            document.getElementById('practiceMenu').classList.add('hidden');
            document.getElementById('sessionView').classList.add('hidden');
            document.getElementById('jumpMenu').classList.add('hidden');
        }

        function showPracticeMenu() {
            document.getElementById('homeView').classList.add('hidden');
            document.getElementById('practiceMenu').classList.remove('hidden');
            renderPracticeButtons();
        }

        // --- JUMP MENU LOGIC ---
        function showJumpMenu() {
            const container = document.getElementById('jumpListContainer');
            container.innerHTML = currentSessionRules.map((rule, idx) => {
                const isCurrent = idx === currentIndex;
                const diff = getDifficulty(rule.id);
                let diffColor = 'border-gray-200 dark:border-slate-700';
                if(diff === 'easy') diffColor = 'border-green-400 dark:border-green-500';
                if(diff === 'moderate') diffColor = 'border-yellow-400 dark:border-yellow-500';
                if(diff === 'difficult') diffColor = 'border-red-400 dark:border-red-500';

                return `
                    <button onclick="jumpToRule(${idx})" class="w-full text-left p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-all border-l-2 ${diffColor} ${isCurrent ? 'bg-white/10 ring-1 ring-royal-gold/50' : ''}">
                        <div class="flex justify-between items-center">
                            <div>
                                <span class="text-[10px] font-bold text-gray-400 uppercase tracking-wider">Rule ${rule.id}</span>
                                <h4 class="font-bold text-gray-200 text-sm font-sans line-clamp-1">${rule.title}</h4>
                            </div>
                            ${isCurrent ? '<i class="fa-solid fa-bolt text-royal-gold animate-pulse"></i>' : ''}
                        </div>
                    </button>
                `;
            }).join('');
            document.getElementById('jumpMenu').classList.remove('hidden');
        }

        function closeJumpMenu() {
            document.getElementById('jumpMenu').classList.add('hidden');
        }

        function jumpToRule(index) {
            currentIndex = index;
            renderCurrentRule();
            closeJumpMenu();
        }

        // --- PRACTICE MENU LOGIC ---
        function renderPracticeButtons() {
            const container = document.getElementById('filterButtons');
            const counts = { easy: 0, moderate: 0, difficult: 0, all: rulesData.length };
            
            rulesData.forEach(r => {
                const diff = getDifficulty(r.id);
                if (diff) counts[diff]++;
            });

            const createBtn = (label, count, type, color, icon) => `
                <button onclick="startSession('practice', '${type}')" 
                    class="w-full p-5 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-between group ${count === 0 ? 'opacity-50 cursor-not-allowed' : ''}" ${count === 0 ? 'disabled' : ''}>
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 rounded-full ${color} flex items-center justify-center text-xl shadow-lg">
                            <i class="${icon}"></i>
                        </div>
                        <div class="text-left">
                            <h4 class="font-bold text-white text-lg aristocratic-title">${label}</h4>
                            <p class="text-xs text-gray-400 font-mono">${count} Rules</p>
                        </div>
                    </div>
                    <i class="fa-solid fa-chevron-right text-gray-500 group-hover:text-white transition-colors"></i>
                </button>
            `;

            container.innerHTML = `
                ${createBtn('The Difficult Path', counts.difficult, 'difficult', 'bg-red-500/20 text-red-500 border border-red-500/30', 'fa-solid fa-skull')}
                ${createBtn('The Moderate Path', counts.moderate, 'moderate', 'bg-yellow-500/20 text-yellow-500 border border-yellow-500/30', 'fa-solid fa-layer-group')}
                ${createBtn('The Easy Path', counts.easy, 'easy', 'bg-green-500/20 text-green-500 border border-green-500/30', 'fa-solid fa-leaf')}
                ${createBtn('Full Archive', counts.all, 'all', 'bg-royal-gold/20 text-royal-gold border border-royal-gold/30', 'fa-solid fa-infinity')}
            `;
        }

        function startSession(mode, filterType = null) {
            if (mode === 'learn' || filterType === 'all') {
                currentSessionRules = [...rulesData];
            } else {
                currentSessionRules = rulesData.filter(r => getDifficulty(r.id) === filterType);
            }

            if (currentSessionRules.length === 0) return;

            currentIndex = 0;
            document.getElementById('homeView').classList.add('hidden');
            document.getElementById('practiceMenu').classList.add('hidden');
            document.getElementById('sessionView').classList.remove('hidden');
            
            renderCurrentRule();
            startTimer();
        }

        function endSession() {
            if(confirm("Do you wish to leave the arena?")) {
                goHome();
            }
        }

        // --- TIMER LOGIC ---
        function startTimer() {
            stopTimer();
            secondsElapsed = 0;
            document.getElementById('timerDisplay').innerText = "00:00";
            timerInterval = setInterval(() => {
                secondsElapsed++;
                const mins = Math.floor(secondsElapsed / 60).toString().padStart(2, '0');
                const secs = (secondsElapsed % 60).toString().padStart(2, '0');
                document.getElementById('timerDisplay').innerText = `${mins}:${secs}`;
            }, 1000);
        }

        function stopTimer() {
            clearInterval(timerInterval);
        }

        // --- RULE RENDERING ---
        function renderCurrentRule() {
            const rule = currentSessionRules[currentIndex];
            const contentArea = document.getElementById('ruleContentArea');
            const total = currentSessionRules.length;

            document.getElementById('progressDisplay').innerText = `RULE ${currentIndex + 1} OF ${total}`;
            
            // Buttons State
            document.getElementById('prevBtn').disabled = currentIndex === 0;
            const nextBtn = document.getElementById('nextBtn');
            if (currentIndex === total - 1) {
                nextBtn.innerHTML = `COMPLETE <i class="fa-solid fa-flag-checkered"></i>`;
                nextBtn.className = "flex-1 h-12 rounded-xl bg-green-600 text-white font-bold text-sm shadow-lg shadow-green-500/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 uppercase tracking-wide";
            } else {
                nextBtn.innerHTML = `NEXT RULE <i class="fa-solid fa-arrow-right"></i>`;
                nextBtn.className = "flex-1 h-12 rounded-xl bg-gradient-to-r from-royal-gold to-amber-600 text-black font-bold text-sm shadow-lg shadow-amber-500/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 uppercase tracking-wide";
            }

            // Highlight Difficulty
            const diff = getDifficulty(rule.id);
            updateDifficultyUI(diff);

            // Generate Content Animation
            contentArea.innerHTML = `
                <div class="animate-slide-up space-y-6">
                    <div class="text-center space-y-2">
                        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-royal-gold/30 bg-royal-gold/10 text-royal-gold text-[10px] font-bold tracking-widest uppercase">
                            <i class="fa-solid ${rule.icon}"></i> Grammar Rule ${rule.id}
                        </div>
                        <h2 class="text-3xl sm:text-4xl font-bold text-white aristocratic-title leading-tight">${rule.title}</h2>
                        <p class="text-gray-400 font-medium">${rule.subtitle}</p>
                    </div>

                    <div class="glass-card rounded-2xl p-6 border-l-4 border-royal-gold relative overflow-hidden group">
                        <div class="absolute top-0 right-0 w-24 h-24 bg-royal-gold/10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"></div>
                        <h4 class="text-xs text-royal-gold font-bold uppercase tracking-widest mb-3 flex items-center gap-2">
                            <i class="fa-regular fa-lightbulb"></i> Core Concept
                        </h4>
                        <p class="text-lg text-gray-200 bengali-text leading-relaxed font-light">${rule.concept}</p>
                    </div>

                    <div>
                        <h4 class="text-sm font-bold text-gray-400 mb-4 uppercase tracking-widest flex items-center gap-2">
                            <i class="fa-solid fa-bolt text-yellow-500"></i> Master Examples
                        </h4>
                        
                        <div class="space-y-4">
                            ${rule.examples.map((ex, i) => `
                                <div class="bg-white/5 rounded-xl p-5 border border-white/10 hover:border-royal-gold/30 transition-colors">
                                    <div class="flex items-start gap-3">
                                        <div class="mt-1 w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-[10px] font-bold text-gray-400 flex-shrink-0 border border-white/5">
                                            ${i + 1}
                                        </div>
                                        <div class="flex-1">
                                            <p class="font-serif text-lg text-white mb-2 border-b border-white/5 pb-2">"${ex.en}"</p>
                                            <div class="space-y-1">
                                                <p class="text-sm text-gray-300 bengali-text"><span class="text-gray-500 text-xs uppercase font-bold mr-2">Explanation:</span>${ex.bn}</p>
                                                <p class="text-xs text-royal-gold font-mono mt-1"><i class="fa-solid fa-code-branch"></i> Logic: ${ex.rule}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // --- ACTIONS ---
        function nextRule() {
            if (currentIndex < currentSessionRules.length - 1) {
                currentIndex++;
                renderCurrentRule();
            } else {
                alert(`Session Complete! You studied for ${document.getElementById('timerDisplay').innerText}`);
                goHome();
            }
        }

        function prevRule() {
            if (currentIndex > 0) {
                currentIndex--;
                renderCurrentRule();
            }
        }

        function setDifficulty(level) {
            const ruleId = currentSessionRules[currentIndex].id;
            saveDifficulty(ruleId, level);
            updateDifficultyUI(level);
            
            // Visual feedback
            const btn = document.getElementById(`btn-${level}`);
            btn.classList.add('scale-105');
            setTimeout(() => btn.classList.remove('scale-105'), 200);
        }

        function updateDifficultyUI(level) {
            const levels = ['easy', 'moderate', 'difficult'];
            const activeClass = {
                easy: 'bg-green-500/20 text-green-400 border-green-500',
                moderate: 'bg-yellow-500/20 text-yellow-400 border-yellow-500',
                difficult: 'bg-red-500/20 text-red-400 border-red-500'
            };
            
            levels.forEach(l => {
                const btn = document.getElementById(`btn-${l}`);
                btn.className = `flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border transition-all flex items-center justify-center gap-2 text-gray-400 hover:text-white hover:bg-white/5 border-white/10`;
                
                if (l === level) {
                    btn.className = `flex-1 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border transition-all flex items-center justify-center gap-2 ${activeClass[l]} shadow-[0_0_10px_rgba(0,0,0,0.3)]`;
                }
            });
        }
    </script>
</body>
</html>
